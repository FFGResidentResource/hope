-- PostGreSQL - Initial Datasetup
-- Create table

--FOLLOWING DROP only requires in NON-PROD Environments - BEGIN
DROP SEQUENCE if exists SC_SQ;
DROP SEQUENCE if exists PROP_SQ;
DROP SEQUENCE if exists RESIDENT_SQ;
DROP SEQUENCE if exists CHILD_SQ;
DROP SEQUENCE if exists REF_SQ;
DROP SEQUENCE if exists CHOICE_SQ;
DROP SEQUENCE if exists SCORE_SQ;
DROP SEQUENCE if exists RAQ_SQ;
DROP SEQUENCE if exists RSG_SQ;
DROP SEQUENCE if exists AQ_SQ;
DROP SEQUENCE if exists AP_SQ;
DROP SEQUENCE if exists CN_SQ;
DROP SEQUENCE if exists RF_SQ;
DROP SEQUENCE if exists UR_SQ;
DROP SEQUENCE if exists RP_SQ;
DROP SEQUENCE IF EXISTS LDSG_SQ;

drop trigger if exists RESIDENT_CHANGES on RESIDENT;

drop view if exists GENDER_BY_PROPERTY_VIEW;
DROP VIEW if exists AGENCY_RESIDENT_VIEW;
DROP VIEW if exists ASSESSMENT_COMPLETED_VIEW;
DROP VIEW if exists MOVING_DOWN_VIEW CASCADE;
DROP VIEW if exists MOVING_UP_VIEW CASCADE;
DROP VIEW if exists NEW_RESIDENT_VIEW;
DROP VIEW if exists ONGOING_RESIDENT_VIEW;
DROP VIEW if exists OUTCOMES_ACHIEVED_VIEW;
DROP VIEW if exists RESIDENT_ACTION_PLAN_VIEW;
DROP VIEW if exists RESIDENT_SERVED_VIEW;
DROP VIEW if exists SERVICE_CATEGORY_VIEW;
DROP VIEW if exists REFERRAL_REASON_VIEW;

DROP TABLE IF EXISTS RESIDENT_AUDITS;
DROP TABLE if exists HUD_REPORTING; 
DROP TABLE if exists LIFE_DOMAIN_SCORE_GUIDE;
DROP TABLE if exists REFERRAL_FORM;
DROP TABLE if exists ACTION_PLAN CASCADE;
DROP TABLE if exists CASE_NOTES CASCADE;
DROP TABLE if exists RESIDENT_SCORE_GOAL CASCADE;
DROP TABLE if exists QUESTION_CHOICE;
DROP TABLE if exists RESIDENT_ASSESSMENT_QUESTIONNAIRE;
DROP TABLE if exists CHILD;
DROP TABLE if exists RESIDENT CASCADE;
DROP TABLE if exists ASSESSMENT_TYPE;
DROP TABLE if exists ASSESSMENT_QUESTIONNAIRE;
DROP TABLE if exists REFERRAL;
DROP TABLE if exists REFERRAL_PARTNER;

DROP TABLE if exists SCORE;
DROP TABLE if exists CHOICE;
DROP TABLE if exists Persistent_Logins;
DROP TABLE if exists USER_ROLE;
DROP TABLE if exists APP_ROLE;
DROP TABLE if exists SERVICE_COORDINATOR;
DROP TABLE if exists PROPERTY;


--FOLLOWING DROP only requires in NON-PROD Environments - END


--COPY FROM HERE FOR PRODUCTION ENVIRONMENT - BEGIN

CREATE SEQUENCE SC_SQ START 1;

CREATE SEQUENCE PROP_SQ START 1;

CREATE SEQUENCE RESIDENT_SQ START 1;

CREATE SEQUENCE CHILD_SQ START 1;

CREATE SEQUENCE REF_SQ START 1;

CREATE SEQUENCE SCORE_SQ START 1;

CREATE SEQUENCE RSG_SQ START 1;

CREATE SEQUENCE AQ_SQ START 1;

CREATE SEQUENCE CHOICE_SQ START 1;

CREATE SEQUENCE RAQ_SQ START 1;

CREATE SEQUENCE AP_SQ START 1;

CREATE SEQUENCE CN_SQ START 1;

CREATE SEQUENCE RF_SQ START 1;

CREATE SEQUENCE UR_SQ START 1;

CREATE SEQUENCE RP_SQ START 1;

CREATE SEQUENCE LDSG_SQ START 1;

CREATE TABLE REFERRAL_PARTNER (
	REF_PAR_ID  				SERIAL PRIMARY KEY,
	REFERRAL_PARTNER_NAME 		VARCHAR(500),
	ACTIVE						BOOLEAN DEFAULT TRUE
);

--TODO - Production this table needs to be filled with all Agency names, following is just example
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Alcohol and Other Drug Prevention');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Alcohol and Other Drug Treatment');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Animal Control');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Area Agency/Office on Aging');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Case Management');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Child Support Enforcement Agency');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Children Services/Child Welfare');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Consumer Protection');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Developmental Disabilities');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Domestic Violence');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Early Childhood Education');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Financial Services');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Fire Department');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Food Pantry');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Health Care Provider');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Health Department');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Home Energy/Utilities Assistance');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Homeless Shelter');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Hospice Care');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Hospital/Emergency Room');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('In Home Care');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Immigrant and Refugee');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Job and Family Services');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Job Placement');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Justice and Corrections');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Legal/Legal Aid');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Library');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Local Church');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Local Community Action/Service Agency');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Meals on Wheels');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Mental/Behavioral Health');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Other');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Parks and Recreation');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Police Department');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Postsecondary Education');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Primary or Secondary Education');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Public Housing');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Small Business Administration');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Special Supplemental Nutrition Program for Women, Infants, and Children (WIC)');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Tax Services');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Transportation');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Unemployment');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Veterans Services');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('Wireless and Internet Services');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('YMCA');
INSERT INTO REFERRAL_PARTNER(REFERRAL_PARTNER_NAME) VALUES ('YWCA');

CREATE TABLE LIFE_DOMAIN_SCORE_GUIDE (
	LDSG_ID SERIAL PRIMARY KEY,
	LIFE_DOMAIN	VARCHAR(100),
	QUESTION_NO INT,
	CHOICE_ID INT,
	SCORE INT,
	PRIORITY INT
);

--Algorithm to calculate "In crisis", "Vulnerable", "Safe", "Building Capacity", "Empowered"
INSERT INTO LIFE_DOMAIN_SCORE_GUIDE (LIFE_DOMAIN, QUESTION_NO, CHOICE_ID, SCORE, PRIORITY) VALUES 
('DISABILITY AND PHYSICAL HEALTH', 52,12,1,1) --Question number 52 is highest priority here which is why last value is 1
,('DISABILITY AND PHYSICAL HEALTH', 52,13,2,1)
,('DISABILITY AND PHYSICAL HEALTH', 52,14,3,1)
,('DISABILITY AND PHYSICAL HEALTH', 52,15,4,2)
,('DISABILITY AND PHYSICAL HEALTH', 51,1,4,3) -- question number 50,51 is lowest priority here which is why last value is 3
,('DISABILITY AND PHYSICAL HEALTH', 50,1,4,3)
,('DISABILITY AND PHYSICAL HEALTH', 49,2,5,2)
,('HOUSEHOLD MANAGEMENT', 40,1,1,1)
,('HOUSEHOLD MANAGEMENT', 42,2,2,2)
,('HOUSEHOLD MANAGEMENT', 43,2,2,2)
,('HOUSEHOLD MANAGEMENT', 44,2,2,2)
,('HOUSEHOLD MANAGEMENT', 45,2,2,2)
,('HOUSEHOLD MANAGEMENT', 46,2,3,3)
,('HOUSEHOLD MANAGEMENT', 47,2,4,4)
,('HOUSEHOLD MANAGEMENT', 47,1,5,4)
,('NETWORK SUPPORT', 33,2,1,1)
,('NETWORK SUPPORT', 33,1,2,2)
,('NETWORK SUPPORT', 34,1,2,2)
,('NETWORK SUPPORT', 39,2,2,2)
,('NETWORK SUPPORT', 35,1,3,3)
,('NETWORK SUPPORT', 36,1,3,3)
,('NETWORK SUPPORT', 37,1,3,3)
,('NETWORK SUPPORT', 39,1,4,4)
,('NETWORK SUPPORT', 38,1,5,5)
,('EDUCATION', 27,2,1,1)
,('EDUCATION', 28,1,2,2)
,('EDUCATION', 29,2,2,2)
,('EDUCATION', 29,1,3,3)
,('EDUCATION', 30,2,3,3)
,('EDUCATION', 31,2,4,4)
,('EDUCATION', 31,1,5,5)
,('EMPLOYMENT', 20,2,1,1)
,('EMPLOYMENT', 21,2,2,2)
,('EMPLOYMENT', 25,2,2,2)
,('EMPLOYMENT', 22,2,3,3)
,('EMPLOYMENT', 23,2,3,3)
,('EMPLOYMENT', 24,2,4,4)
,('EMPLOYMENT', 25,1,5,5)
,('MONEY MANAGEMENT', 14,2,1,1)
,('MONEY MANAGEMENT', 16,1,2,2)
,('MONEY MANAGEMENT', 17,2,2,2)
,('MONEY MANAGEMENT', 18,2,3,3)
,('MONEY MANAGEMENT', 18,5,4,4)
,('MONEY MANAGEMENT', 18,6,5,5)
,('HOUSING', 1,2,1,1)
,('HOUSING', 2,1,1,1)
,('HOUSING', 4,2,2,2)
,('HOUSING', 5,1,2,2)
,('HOUSING', 6,1,2,2)
,('HOUSING', 7,2,3,3)
,('HOUSING', 8,1,4,4)
,('HOUSING', 8,2,5,5)
;

CREATE TABLE ASSESSMENT_QUESTIONNAIRE(
	QUESTION_ID		SERIAL PRIMARY KEY,
	QUESTION_NUMBER INT,
	QUESTION		VARCHAR(500),
	LIFE_DOMAIN		VARCHAR(50),
	SORT			INT
);


INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 1,'Is the resident currently housed?', 'HOUSING', 1);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 2,'Is the resident at immediate risk of losing housing?', 'HOUSING', 2);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 3,'Is the resident obtaining rental assistance or rent subsidy (e.g., housing choice voucher)?', 'HOUSING',3);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 4,'Can the resident continue living in their current residence for as long as they like?', 'HOUSING', 4);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 5,'Does the resident - or whoever is responsible for paying for the resident''s housing - spend more than 30% of their income on housing related expenses?', 'HOUSING',5);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 6,'Does the resident have any safety concerns or accessibility concerns with respect to the physical structure of their housing?', 'HOUSING',6);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 7,'Does the resident consider their housing to be adequate and meeting their needs?', 'HOUSING',7);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 8,'Is the housing subsidized, low-income housing, a subsidized co-op, or some other type of government-supported housing?', 'HOUSING',8);
--MONEY MANAGEMENT
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 1,'Does the resident know how to use a budget and use it on a regular basis?', 'MONEY MANAGEMENT',9);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 2,'Does the resident know whether or not have monthly deficit or surplus?', 'MONEY MANAGEMENT',10);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 3,'Is resident able to track expenses?', 'MONEY MANAGEMENT',11);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 4,'Can resident prioritize expenses?', 'MONEY MANAGEMENT',12);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 5,'Does the resident organize bills and other financial paperwork?', 'MONEY MANAGEMENT',13);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 6,'Is the resident able to pay bills on time?', 'MONEY MANAGEMENT',14);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 7,'Does the resident feel and understand debts and have control over them?', 'MONEY MANAGEMENT',15);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 8,'Is resident currently experiencing garnishments?', 'MONEY MANAGEMENT',16);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 9,'Does the resident have savings or checking account?', 'MONEY MANAGEMENT',17);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 10,'Is resident able to save money? if yes, is it sporadically or on a consistent basis?', 'MONEY MANAGEMENT',18);
--EMPLOYMENT
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 1,'How old is the resident?', 'EMPLOYMENT',19);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 2,'Does the resident have a job?', 'EMPLOYMENT',20);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 3,'Does the resident work full time(32+ hours a week)? Note: If the resident works at least 32 hours a week across mutiple jobs, they should be considered to be working full-time.', 'EMPLOYMENT',21);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 4,'Does the job pay a living wage? Note: For residents who work at least 32 hours a week accorss multiple jobs, all of their job must pay a living wage to go on to the next question', 'EMPLOYMENT',22);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 5,'Does the job offer health insurance options, paid time off, and some type of retirement plan?', 'EMPLOYMENT',23);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 6,'Has the resident been employed at the current workplace for at least three months?', 'EMPLOYMENT',24);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 7,'Can the resident remain at the current job for as long as they like?', 'EMPLOYMENT',25);
--EDUCATION
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 1,'Does the resident have a high school diploma or GED?', 'EDUCATION',26);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 2,'Is resident enrolled in high school, GED program, or an alternative education program?', 'EDUCATION',27);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 3,'Does the resident have any special education needs or other accommodations that are not being met?', 'EDUCATION',28);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 4,'Is resident regularly attend the classes he/she enrolled in?', 'EDUCATION',29);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 5,'Has the resident completed additional training or education beyond receiving a high school diploma or GED(an received a degree or vocational certification?', 'EDUCATION',30);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 6,'Is the resident currently getting additional training or education to help job opportunities or to earn more money?', 'EDUCATION',31);
--NETWORK_SUPPORT
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 1,'Does the resident receive any type of support (emotional, financial, or material) from their extended family, friends, or other members of their social circle?', 'NETWORK SUPPORT',32);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 2,'Do the resident''s extended family or friends want to provide support?', 'NETWORK SUPPORT',33);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 3,'Do the resident''s extended family or friends tend to be demanding, critical, or a bad influence?', 'NETWORK SUPPORT',34);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 4,'When or if necessary, would resident be able to rely on someone among their extended family/friends to provide Emotional Support?', 'NETWORK SUPPORT',35);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 5,'When or if necessary, would resident be able to rely on someone among their extended family/friends to provide Financial support?', 'NETWORK SUPPORT',36);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 6,'When or if necessary, would resident be able to rely on someone among their extended family/friends to provide  Material support, such as a place to stay, food, or clothing?', 'NETWORK SUPPORT',37);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 7,'Is the resident''s support network growing?', 'NETWORK SUPPORT',38);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 8,'Is the resident aware of where to go in the community for help?', 'NETWORK SUPPORT',39);
--HOSUEHOLD_MANAGEMENT
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 1,'Has the resident received a notification in the past 6 months regarding the cleanliness or condition of their home?', 'HOUSEHOLD MANAGEMENT',40);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 2,'Is the resident able to keep their home clean and oraganized with minimal wear and tear?', 'HOUSEHOLD MANAGEMENT',41);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 3,'Is the resident able to do laundry and have clean clothes available for their family members?', 'HOUSEHOLD MANAGEMENT',42);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 4,'Does the resident do the dishes after each meal and keep the kitchen clean?', 'HOUSEHOLD MANAGEMENT',43);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 5,'Does the resident regularly take out the trash and recycle?', 'HOUSEHOLD MANAGEMENT',44);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 6,'Is resident able to plan and prepare meals on a regular basis?', 'HOUSEHOLD MANAGEMENT',45);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 7,'Is resident able to replenish household supplies before they run out (i.e., laundry detergent, toilet paper, etc.)?', 'HOUSEHOLD MANAGEMENT',46);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 8,'Is resident able to maintain the outside of their home, if required (i.e., yard, sidewalks, etc.)?', 'HOUSEHOLD MANAGEMENT',47);

--HOSUEHOLD_MANAGEMENT
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 1,'Does the resident have any identified physical, developmental, or learning disabilities?', 'DISABILITY AND PHYSICAL HEALTH',48);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 2,'Does the resident have any physical health issues or concerns (including pregnancy)?', 'DISABILITY AND PHYSICAL HEALTH',49);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 3,'Has the resident''s disabilities and current health issues appropriately managed by services or medication?', 'DISABILITY AND PHYSICAL HEALTH',50);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 4,'Has the resident''s disabilities or current health issues ever interfered with their housing arrangements, employment, or social interactions?', 'DISABILITY AND PHYSICAL HEALTH',51);
INSERT INTO ASSESSMENT_QUESTIONNAIRE (QUESTION_NUMBER, QUESTION, LIFE_DOMAIN, SORT ) VALUES ( 5,'When was the last time the resident''s disability or current health issues interfered with their housing arrangements, employment, or social interactions?', 'DISABILITY AND PHYSICAL HEALTH',52);


CREATE TABLE CHOICE(
	CHOICE_ID SERIAL PRIMARY KEY,
	CHOICE 	  VARCHAR(50),
	SORT	  INT
);

INSERT INTO CHOICE (CHOICE, SORT) VALUES ( 'Yes', 1);
INSERT INTO CHOICE (CHOICE, SORT) VALUES ( 'No', 2);
INSERT INTO CHOICE (CHOICE, SORT) VALUES ( 'Don''t know', 3);
INSERT INTO CHOICE (CHOICE, SORT) VALUES ( 'Did not answer', 4);
INSERT INTO CHOICE (CHOICE, SORT) VALUES ( 'Sporadically', 5);
INSERT INTO CHOICE (CHOICE, SORT) VALUES ( 'Consistently', 6);
INSERT INTO CHOICE (CHOICE, SORT) VALUES ( 'Under 18', 7);
INSERT INTO CHOICE (CHOICE, SORT) VALUES ( '18-25', 8);
INSERT INTO CHOICE (CHOICE, SORT) VALUES ( '26-35', 9);
INSERT INTO CHOICE (CHOICE, SORT) VALUES ( '36-50', 10);
INSERT INTO CHOICE (CHOICE, SORT) VALUES ( '+50', 11);
INSERT INTO CHOICE (CHOICE, SORT) VALUES ( 'within last month', 12);
INSERT INTO CHOICE (CHOICE, SORT) VALUES ( '< 6 months', 13);
INSERT INTO CHOICE (CHOICE, SORT) VALUES ( '6 to 12 months', 14);
INSERT INTO CHOICE (CHOICE, SORT) VALUES ( '+ 1 year', 15);
INSERT INTO CHOICE (CHOICE, SORT) VALUES ( 'N/A', 16);

CREATE TABLE QUESTION_CHOICE(
	QUESTION_ID INT REFERENCES ASSESSMENT_QUESTIONNAIRE(QUESTION_ID) NOT NULL,
	CHOICE_ID	INT REFERENCES CHOICE(CHOICE_ID) NOT NULL
);

INSERT INTO QUESTION_CHOICE VALUES (1, 1);
INSERT INTO QUESTION_CHOICE VALUES (1, 2);
INSERT INTO QUESTION_CHOICE VALUES (1, 3);
INSERT INTO QUESTION_CHOICE VALUES (1, 4);

INSERT INTO QUESTION_CHOICE VALUES (2, 1);
INSERT INTO QUESTION_CHOICE VALUES (2, 2);
INSERT INTO QUESTION_CHOICE VALUES (2, 3);
INSERT INTO QUESTION_CHOICE VALUES (2, 4);

INSERT INTO QUESTION_CHOICE VALUES (3, 1);
INSERT INTO QUESTION_CHOICE VALUES (3, 2);
INSERT INTO QUESTION_CHOICE VALUES (3, 3);
INSERT INTO QUESTION_CHOICE VALUES (3, 4);

INSERT INTO QUESTION_CHOICE VALUES (4, 1);
INSERT INTO QUESTION_CHOICE VALUES (4, 2);
INSERT INTO QUESTION_CHOICE VALUES (4, 3);
INSERT INTO QUESTION_CHOICE VALUES (4, 4);

INSERT INTO QUESTION_CHOICE VALUES (5, 1);
INSERT INTO QUESTION_CHOICE VALUES (5, 2);
INSERT INTO QUESTION_CHOICE VALUES (5, 3);
INSERT INTO QUESTION_CHOICE VALUES (5, 4);

INSERT INTO QUESTION_CHOICE VALUES (6, 1);
INSERT INTO QUESTION_CHOICE VALUES (6, 2);
INSERT INTO QUESTION_CHOICE VALUES (6, 3);
INSERT INTO QUESTION_CHOICE VALUES (6, 4);

INSERT INTO QUESTION_CHOICE VALUES (7, 1);
INSERT INTO QUESTION_CHOICE VALUES (7, 2);
INSERT INTO QUESTION_CHOICE VALUES (7, 3);
INSERT INTO QUESTION_CHOICE VALUES (7, 4);

INSERT INTO QUESTION_CHOICE VALUES (8, 1);
INSERT INTO QUESTION_CHOICE VALUES (8, 2);
INSERT INTO QUESTION_CHOICE VALUES (8, 3);
INSERT INTO QUESTION_CHOICE VALUES (8, 4);

INSERT INTO QUESTION_CHOICE VALUES (9, 1);
INSERT INTO QUESTION_CHOICE VALUES (9, 2);
INSERT INTO QUESTION_CHOICE VALUES (9, 3);
INSERT INTO QUESTION_CHOICE VALUES (9, 4);

INSERT INTO QUESTION_CHOICE VALUES (10, 1);
INSERT INTO QUESTION_CHOICE VALUES (10, 2);
INSERT INTO QUESTION_CHOICE VALUES (10, 3);
INSERT INTO QUESTION_CHOICE VALUES (10, 4);

INSERT INTO QUESTION_CHOICE VALUES (11, 1);
INSERT INTO QUESTION_CHOICE VALUES (11, 2);
INSERT INTO QUESTION_CHOICE VALUES (11, 3);
INSERT INTO QUESTION_CHOICE VALUES (11, 4);

INSERT INTO QUESTION_CHOICE VALUES (12, 1);
INSERT INTO QUESTION_CHOICE VALUES (12, 2);
INSERT INTO QUESTION_CHOICE VALUES (12, 3);
INSERT INTO QUESTION_CHOICE VALUES (12, 4);

INSERT INTO QUESTION_CHOICE VALUES (13, 1);
INSERT INTO QUESTION_CHOICE VALUES (13, 2);
INSERT INTO QUESTION_CHOICE VALUES (13, 3);
INSERT INTO QUESTION_CHOICE VALUES (13, 4);

INSERT INTO QUESTION_CHOICE VALUES (14, 1);
INSERT INTO QUESTION_CHOICE VALUES (14, 2);
INSERT INTO QUESTION_CHOICE VALUES (14, 3);
INSERT INTO QUESTION_CHOICE VALUES (14, 4);

INSERT INTO QUESTION_CHOICE VALUES (15, 1);
INSERT INTO QUESTION_CHOICE VALUES (15, 2);
INSERT INTO QUESTION_CHOICE VALUES (15, 3);
INSERT INTO QUESTION_CHOICE VALUES (15, 4);

INSERT INTO QUESTION_CHOICE VALUES (16, 1);
INSERT INTO QUESTION_CHOICE VALUES (16, 2);
INSERT INTO QUESTION_CHOICE VALUES (16, 3);
INSERT INTO QUESTION_CHOICE VALUES (16, 4);

INSERT INTO QUESTION_CHOICE VALUES (17, 1);
INSERT INTO QUESTION_CHOICE VALUES (17, 2);
INSERT INTO QUESTION_CHOICE VALUES (17, 3);
INSERT INTO QUESTION_CHOICE VALUES (17, 4);

INSERT INTO QUESTION_CHOICE VALUES (18, 2);
INSERT INTO QUESTION_CHOICE VALUES (18, 5);
INSERT INTO QUESTION_CHOICE VALUES (18, 6);
INSERT INTO QUESTION_CHOICE VALUES (18, 4);

INSERT INTO QUESTION_CHOICE VALUES (19, 7);
INSERT INTO QUESTION_CHOICE VALUES (19, 8);
INSERT INTO QUESTION_CHOICE VALUES (19, 9);
INSERT INTO QUESTION_CHOICE VALUES (19, 10);
INSERT INTO QUESTION_CHOICE VALUES (19, 11);

INSERT INTO QUESTION_CHOICE VALUES (20, 1);
INSERT INTO QUESTION_CHOICE VALUES (20, 2);
INSERT INTO QUESTION_CHOICE VALUES (20, 3);
INSERT INTO QUESTION_CHOICE VALUES (20, 4);

INSERT INTO QUESTION_CHOICE VALUES (21, 1);
INSERT INTO QUESTION_CHOICE VALUES (21, 2);
INSERT INTO QUESTION_CHOICE VALUES (21, 3);
INSERT INTO QUESTION_CHOICE VALUES (21, 4);

INSERT INTO QUESTION_CHOICE VALUES (22, 1);
INSERT INTO QUESTION_CHOICE VALUES (22, 2);
INSERT INTO QUESTION_CHOICE VALUES (22, 3);
INSERT INTO QUESTION_CHOICE VALUES (22, 4);

INSERT INTO QUESTION_CHOICE VALUES (23, 1);
INSERT INTO QUESTION_CHOICE VALUES (23, 2);
INSERT INTO QUESTION_CHOICE VALUES (23, 3);
INSERT INTO QUESTION_CHOICE VALUES (23, 4);

INSERT INTO QUESTION_CHOICE VALUES (24, 1);
INSERT INTO QUESTION_CHOICE VALUES (24, 2);
INSERT INTO QUESTION_CHOICE VALUES (24, 3);
INSERT INTO QUESTION_CHOICE VALUES (24, 4);

INSERT INTO QUESTION_CHOICE VALUES (25, 1);
INSERT INTO QUESTION_CHOICE VALUES (25, 2);
INSERT INTO QUESTION_CHOICE VALUES (25, 3);
INSERT INTO QUESTION_CHOICE VALUES (25, 4);

INSERT INTO QUESTION_CHOICE VALUES (26, 1);
INSERT INTO QUESTION_CHOICE VALUES (26, 2);
INSERT INTO QUESTION_CHOICE VALUES (26, 3);
INSERT INTO QUESTION_CHOICE VALUES (26, 4);

INSERT INTO QUESTION_CHOICE VALUES (27, 1);
INSERT INTO QUESTION_CHOICE VALUES (27, 2);
INSERT INTO QUESTION_CHOICE VALUES (27, 3);
INSERT INTO QUESTION_CHOICE VALUES (27, 4);

INSERT INTO QUESTION_CHOICE VALUES (28, 1);
INSERT INTO QUESTION_CHOICE VALUES (28, 2);
INSERT INTO QUESTION_CHOICE VALUES (28, 3);
INSERT INTO QUESTION_CHOICE VALUES (28, 4);

INSERT INTO QUESTION_CHOICE VALUES (29, 1);
INSERT INTO QUESTION_CHOICE VALUES (29, 2);
INSERT INTO QUESTION_CHOICE VALUES (29, 3);
INSERT INTO QUESTION_CHOICE VALUES (29, 4);

INSERT INTO QUESTION_CHOICE VALUES (30, 1);
INSERT INTO QUESTION_CHOICE VALUES (30, 2);
INSERT INTO QUESTION_CHOICE VALUES (30, 3);
INSERT INTO QUESTION_CHOICE VALUES (30, 4);

INSERT INTO QUESTION_CHOICE VALUES (31, 1);
INSERT INTO QUESTION_CHOICE VALUES (31, 2);
INSERT INTO QUESTION_CHOICE VALUES (31, 3);
INSERT INTO QUESTION_CHOICE VALUES (31, 4);

INSERT INTO QUESTION_CHOICE VALUES (32, 1);
INSERT INTO QUESTION_CHOICE VALUES (32, 2);
INSERT INTO QUESTION_CHOICE VALUES (32, 3);
INSERT INTO QUESTION_CHOICE VALUES (32, 4);

INSERT INTO QUESTION_CHOICE VALUES (33, 1);
INSERT INTO QUESTION_CHOICE VALUES (33, 2);
INSERT INTO QUESTION_CHOICE VALUES (33, 3);
INSERT INTO QUESTION_CHOICE VALUES (33, 4);

INSERT INTO QUESTION_CHOICE VALUES (34, 1);
INSERT INTO QUESTION_CHOICE VALUES (34, 2);
INSERT INTO QUESTION_CHOICE VALUES (34, 3);
INSERT INTO QUESTION_CHOICE VALUES (34, 4);

INSERT INTO QUESTION_CHOICE VALUES (35, 1);
INSERT INTO QUESTION_CHOICE VALUES (35, 2);
INSERT INTO QUESTION_CHOICE VALUES (35, 3);
INSERT INTO QUESTION_CHOICE VALUES (35, 4);

INSERT INTO QUESTION_CHOICE VALUES (36, 1);
INSERT INTO QUESTION_CHOICE VALUES (36, 2);
INSERT INTO QUESTION_CHOICE VALUES (36, 3);
INSERT INTO QUESTION_CHOICE VALUES (36, 4);

INSERT INTO QUESTION_CHOICE VALUES (37, 1);
INSERT INTO QUESTION_CHOICE VALUES (37, 2);
INSERT INTO QUESTION_CHOICE VALUES (37, 3);
INSERT INTO QUESTION_CHOICE VALUES (37, 4);

INSERT INTO QUESTION_CHOICE VALUES (38, 1);
INSERT INTO QUESTION_CHOICE VALUES (38, 2);
INSERT INTO QUESTION_CHOICE VALUES (38, 3);
INSERT INTO QUESTION_CHOICE VALUES (38, 4);

INSERT INTO QUESTION_CHOICE VALUES (39, 1);
INSERT INTO QUESTION_CHOICE VALUES (39, 2);
INSERT INTO QUESTION_CHOICE VALUES (39, 3);
INSERT INTO QUESTION_CHOICE VALUES (39, 4);

INSERT INTO QUESTION_CHOICE VALUES (40, 1);
INSERT INTO QUESTION_CHOICE VALUES (40, 2);
INSERT INTO QUESTION_CHOICE VALUES (40, 3);
INSERT INTO QUESTION_CHOICE VALUES (40, 4);

INSERT INTO QUESTION_CHOICE VALUES (41, 1);
INSERT INTO QUESTION_CHOICE VALUES (41, 2);
INSERT INTO QUESTION_CHOICE VALUES (41, 3);
INSERT INTO QUESTION_CHOICE VALUES (41, 4);

INSERT INTO QUESTION_CHOICE VALUES (42, 1);
INSERT INTO QUESTION_CHOICE VALUES (42, 2);
INSERT INTO QUESTION_CHOICE VALUES (42, 3);
INSERT INTO QUESTION_CHOICE VALUES (42, 4);

INSERT INTO QUESTION_CHOICE VALUES (43, 1);
INSERT INTO QUESTION_CHOICE VALUES (43, 2);
INSERT INTO QUESTION_CHOICE VALUES (43, 3);
INSERT INTO QUESTION_CHOICE VALUES (43, 4);

INSERT INTO QUESTION_CHOICE VALUES (44, 1);
INSERT INTO QUESTION_CHOICE VALUES (44, 2);
INSERT INTO QUESTION_CHOICE VALUES (44, 3);
INSERT INTO QUESTION_CHOICE VALUES (44, 4);

INSERT INTO QUESTION_CHOICE VALUES (45, 1);
INSERT INTO QUESTION_CHOICE VALUES (45, 2);
INSERT INTO QUESTION_CHOICE VALUES (45, 3);
INSERT INTO QUESTION_CHOICE VALUES (45, 4);

INSERT INTO QUESTION_CHOICE VALUES (46, 1);
INSERT INTO QUESTION_CHOICE VALUES (46, 2);
INSERT INTO QUESTION_CHOICE VALUES (46, 3);
INSERT INTO QUESTION_CHOICE VALUES (46, 4);

INSERT INTO QUESTION_CHOICE VALUES (47, 1);
INSERT INTO QUESTION_CHOICE VALUES (47, 2);
INSERT INTO QUESTION_CHOICE VALUES (47, 3);
INSERT INTO QUESTION_CHOICE VALUES (47, 4);

INSERT INTO QUESTION_CHOICE VALUES (48, 1);
INSERT INTO QUESTION_CHOICE VALUES (48, 2);
INSERT INTO QUESTION_CHOICE VALUES (49, 1);
INSERT INTO QUESTION_CHOICE VALUES (49, 2);
INSERT INTO QUESTION_CHOICE VALUES (50, 1);
INSERT INTO QUESTION_CHOICE VALUES (50, 2);
INSERT INTO QUESTION_CHOICE VALUES (51, 1);
INSERT INTO QUESTION_CHOICE VALUES (51, 2);
INSERT INTO QUESTION_CHOICE VALUES (52, 12);
INSERT INTO QUESTION_CHOICE VALUES (52, 13);
INSERT INTO QUESTION_CHOICE VALUES (52, 14);
INSERT INTO QUESTION_CHOICE VALUES (52, 15);
INSERT INTO QUESTION_CHOICE VALUES (52, 16);


CREATE TABLE SCORE(
	SCORE_ID		SERIAL PRIMARY KEY,
	SCORE_VALUE		VARCHAR(50)
);

INSERT INTO SCORE (SCORE_VALUE) VALUES ('In Crisis (1)');
INSERT INTO SCORE (SCORE_VALUE) VALUES ('Vulnerable (2)');
INSERT INTO SCORE (SCORE_VALUE) VALUES ('Safe (3)');
INSERT INTO SCORE (SCORE_VALUE) VALUES ('Building Capacity (4)');
INSERT INTO SCORE (SCORE_VALUE) VALUES ('Empowered (5)');
INSERT INTO SCORE (SCORE_VALUE) VALUES ('DkDa (6)');

CREATE TABLE ASSESSMENT_TYPE(
	A_ID	SERIAL PRIMARY KEY,
	A_VALUE	VARCHAR(10) NOT NULL
);

INSERT INTO ASSESSMENT_TYPE (A_VALUE) values( 'Initial');
INSERT INTO ASSESSMENT_TYPE (A_VALUE) values( '6-Month');
INSERT INTO ASSESSMENT_TYPE (A_VALUE) values( 'Annual');
INSERT INTO ASSESSMENT_TYPE (A_VALUE) values( 'Other');

CREATE TABLE REFERRAL(
	REF_ID		SERIAL	PRIMARY key,
	REF_VALUE	VARCHAR(128) NOT NULL
);

INSERT INTO REFERRAL (REF_VALUE) VALUES ( 'Self(Resident)/Walk-In');
INSERT INTO REFERRAL (REF_VALUE) VALUES ( 'Property Mgmt (Includes Community Manager and Maintenance)');
INSERT INTO REFERRAL (REF_VALUE) VALUES ( 'Service Coordinator');
INSERT INTO REFERRAL (REF_VALUE) VALUES ( 'Other Resident');
INSERT INTO REFERRAL (REF_VALUE) VALUES ( 'Other');

CREATE table PROPERTY (
	PROP_ID			SERIAL PRIMARY KEY,
	PROP_NAME		VARCHAR(128) UNIQUE NOT NULL,
	CITY			VARCHAR(50),
	STATE			VARCHAR(50),
	COUNTY			VARCHAR(20), 
	UNIT			INT,
	UNIT_FEE		INT,
	ACTIVE			BOOLEAN DEFAULT TRUE,
	TOTAL_RESIDENTS	INT,
	RESIDENT_COUNCIL BOOLEAN DEFAULT FALSE,
	SERVICE_PROVIDER VARCHAR(50)
);

--TODO Need to put correct number of unit, unit fee and total Resident
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Ashland Village','Ashland','OH', 'Ashland', 45, 100, TRUE, 113, FALSE, 'RRN');
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Batavia Village','Batavia','OH', 'Clermont', 50, 100, TRUE, 125, FALSE, 'RRN');
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Cambridge Village','Cambridge','OH', 'Guernsey', 60, 100, TRUE, 150, FALSE, 'RRN');
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Chadwick Place','Elyria','OH', 'Lorain', 46, 200, TRUE, 115, FALSE, 'RRN');
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Cutter Apartments','Cincinnati','OH', 'Hamilton', 40, 100, TRUE, 100, FALSE, 'OTR');
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Cypress Commons','Middletown','OH', 'Butler', 44, 200, TRUE, 110, FALSE, 'RRN');
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Daines Village','London','OH', 'Madison', 48, 200, TRUE, 120, FALSE, 'NCR');
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Eco Village','Fostoria','OH', 'Seneca', 60, 200, TRUE, 150, FALSE, 'RRN');
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Fair Park Apartments','Sardinia','OH', 'Brown', 40, 100, TRUE, 100, TRUE, 'ABCAP');
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Faith Village Apartments','Columbus','OH', 'Franklin', 144, 100, TRUE, 504, FALSE, 'RRN');
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Fostoria Townhomes','Fostoria','OH', 'Seneca', 40, 100, TRUE, 100, FALSE, 'WSOS');
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Glen Meadows','Cincinnati','OH', 'Hamilton', 264, 200, TRUE, 660, FALSE, 'RRN');
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Lawrence Manor','South Point','OH', 'Lawrence', 60, 67, TRUE, 150, FALSE, 'ILCAO');
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Lawrence Village','South Point','OH', 'Lawrence', 70, 84, TRUE, 175, FALSE, 'ILCAO');
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Lima Apartments','Lima','OH', 'Allen', 54, 200, TRUE, 135, FALSE, 'RRN');
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Meadows Apartments','Marysville','OH', 'Union', 102, 100, TRUE, 255, FALSE, 'RRN');
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Union Square','Medina','OH', 'Medina', 84, 200, TRUE, 210, FALSE, 'RRN');
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Villages at Roll Hill','Cincinnati','OH', 'Hamilton', 703, 0, TRUE, 1758, TRUE, 'Wallick');
INSERT INTO PROPERTY (PROP_NAME, CITY, STATE, COUNTY, UNIT, UNIT_FEE, ACTIVE, TOTAL_RESIDENTS, RESIDENT_COUNCIL, SERVICE_PROVIDER) VALUES ('Washington Court House','Washington Court House','OH', 'Fayette', 45, 175, TRUE, 113, FALSE, 'RRN');

CREATE table SERVICE_COORDINATOR (
	SC_ID				SERIAL PRIMARY KEY,
	USER_NAME       	VARCHAR(50) NOT NULL UNIQUE,
	ENCRYPTED_PASSWORD 	VARCHAR(128) NOT NULL,
	ACTIVE          	BOOLEAN DEFAULT FALSE,
	EMAIL		   	 	VARCHAR (128) UNIQUE,
	PHONE				VARCHAR(50),
	CREATED_ON	    	TIMESTAMP DEFAULT NOW(),
	LAST_LOGIN	    	TIMESTAMP,
	DATE_MODIFIED		TIMESTAMP,
	MODIFIED_BY			VARCHAR(50),
	ASSIGNED_PROPERTY   JSON
	
);

CREATE table RESIDENT (
	
	RESIDENT_ID		BIGSERIAL PRIMARY KEY,
	ACTIVE			BOOLEAN DEFAULT TRUE,
	IS_RESIDENT 	BOOLEAN DEFAULT TRUE,
	REF_TYPE		INT REFERENCES REFERRAL(REF_ID) NOT NULL,
	FIRST_NAME		VARCHAR(128),
	MIDDLE			VARCHAR(128),
	LAST_NAME		VARCHAR(128),
	PROP_ID			INT REFERENCES PROPERTY(PROP_ID),
	VIA_VOICEMAIL	BOOLEAN DEFAULT FALSE,
	VIA_TEXT		BOOLEAN DEFAULT FALSE,
	VIA_EMAIL		BOOLEAN DEFAULT FALSE,
	VOICEMAIL_NO	VARCHAR(20),
	TEXT_NO			VARCHAR(20),
	EMAIL			VARCHAR(256),
	ADDRESS			VARCHAR(256),
	ACK_PR			BOOLEAN DEFAULT FALSE,
	ALLOW_CONTACT	BOOLEAN DEFAULT FALSE,
	WANTS_SURVEY	BOOLEAN DEFAULT FALSE,
	PHOTO_RELEASE	BOOLEAN DEFAULT FALSE,
	DATE_ADDED		TIMESTAMP DEFAULT NOW(),
	DATE_MODIFIED	TIMESTAMP,
	MODIFIED_BY		VARCHAR(50),
	SERVICE_COORD	VARCHAR(50),
	A_TYPE			INT REFERENCES ASSESSMENT_TYPE(A_ID),
	A_DATE			DATE,
	AGE				VARCHAR(3),
	PRI_LANGUAGE	VARCHAR(128) DEFAULT 'English',
	MARITAL_STATUS	VARCHAR(128),
	ANNUAL_GROSS 	VARCHAR(128),
	GENDER			VARCHAR(128) DEFAULT 'Information not collected',
	ETHNICITY		VARCHAR(128) DEFAULT 'Information not collected',
	RACE			VARCHAR(128) DEFAULT 'Information not collected',
	H_O_H			VARCHAR(128) DEFAULT 'Information not collected',
	VETERAN			VARCHAR(128) DEFAULT 'Information not collected',
	DISABILITY		VARCHAR(128) DEFAULT 'Information not collected',
	RC_OR_EX_OFF	VARCHAR(128) DEFAULT 'Information not collected',
	SSI				VARCHAR(128) DEFAULT 'Information not collected',
	SSDI			VARCHAR(128) DEFAULT 'Information not collected',
	HEALTH_COVERAGE	VARCHAR(128) DEFAULT 'Information not collected',
	HIGHEST_EDU		VARCHAR(128) DEFAULT 'Information not collected',
	SAFE_DAY		VARCHAR(50),
	SAFE_NIGHT 		VARCHAR(50),
	OCCUPANCY_LENGTH	VARCHAR(50),
	INT_RES_COUNCIL VARCHAR(10),
	MODE_TRANSPORT	VARCHAR(50),
	EXP_FOOD_SHORT	VARCHAR(50),
	INTERNET_ACCESS VARCHAR(50),
	HOH_TYPE		VARCHAR(50),
	UNEMP_REASON	VARCHAR(100),
	BARRIER_TO_EDU	VARCHAR(100),
	HEALTH_CONDITION	VARCHAR(100),
	PROGRAM_SRVC_YOUTH	VARCHAR(100),
	PROGRAM_SRVC_ADULT	VARCHAR(100)	
);

alter table RESIDENT
  add constraint RESIDENT_UK unique (FIRST_NAME, LAST_NAME, PROP_ID, ADDRESS);

 --TODO - For Production IN this table more gazillions columns needs to be created as VARCHAR 
 --and then for HUD_REPORTING select r.column1, r.cloumn2, hud.column1, hud.cloumn2..<more columns like that> from resident r join HUD_REPORTING hud on hud.resident_id = r.resident_id 
 --and then this can be extracted in excel sheet from DBeaver Tool.
CREATE TABLE HUD_REPORTING (
	HUD_ID BIGSERIAL PRIMARY KEY,
	RESIDENT_ID BIGINT REFERENCES RESIDENT(RESIDENT_ID)
	-- Column3, 
	-- column4,
	-- so on... 
);
	
  
CREATE table CHILD (
	CHILD_ID		BIGSERIAL PRIMARY KEY,
	FULL_NAME		VARCHAR(50),
	PARENT_ID		BIGINT REFERENCES RESIDENT(RESIDENT_ID),
	PVR_FLAG		BOOLEAN DEFAULT FALSE
);

CREATE TABLE REFERRAL_FORM (
	REFERRAL_FORM_ID			BIGSERIAL PRIMARY KEY,
	RESIDENT_ID					BIGINT REFERENCES RESIDENT(RESIDENT_ID),
	INTERPRETATION      		BOOLEAN DEFAULT FALSE,
	REFERRED_BY					VARCHAR(100),
	DATE_ADDED					DATE DEFAULT NOW(),
	DATE_MODIFIED				DATE DEFAULT NOW(),
	REFERRAL_REASON				JSON DEFAULT '{ "Non/late payment of rent": "false", "Utility Shut-off, scheduled for (Date):":"", "Housekeeping/home management":"false", "Lease violation for:": "", "Employment/job readiness":"false", "Education/job training":"false", "Noticeable change in:":"", "Resident-to-resident conflict issues":"false", "Suspected abuse/domestic violence/exploitation":"false", "Childcare/afterschool care":"false", "Transportation":"false", "Safety":"false", "Healthcare/medical issues":"false", "Other:":"" }',
	COMMENTS					VARCHAR(1000),
	PREVIOUS_ATTEMPTS			VARCHAR(1000),
	RF_FOLLOWUP_NOTES			VARCHAR(1000),
	RES_APP_SCHEDULED			JSON DEFAULT '{ "Resident Appointment Scheduled?":""}',
	SERVICE_COORD				VARCHAR(50)
);

CREATE TABLE ACTION_PLAN(
    ACTION_PLAN_ID			BIGSERIAL PRIMARY KEY,
	RESIDENT_ID				BIGINT REFERENCES RESIDENT(RESIDENT_ID),	
    ACTIVE              	BOOLEAN DEFAULT TRUE,   
	PLAN_OF_ACTION			JSON DEFAULT '{ "HOUSING": "", "MONEY MANAGEMENT": "", "EMPLOYMENT": "", "EDUCATION": "", "NETWORK SUPPORT": "", "HOUSEHOLD MANAGEMENT": "", "DISABILITY AND PHYSICAL HEALTH": "" }',
	PLAN_DETAILS			JSON DEFAULT '{ "HOUSING": "", "MONEY MANAGEMENT": "", "EMPLOYMENT": "", "EDUCATION": "", "NETWORK SUPPORT": "", "HOUSEHOLD MANAGEMENT": "", "DISABILITY AND PHYSICAL HEALTH": "" }',
	REFERRAL_PARTNER		JSON DEFAULT '{ "HOUSING": "", "MONEY MANAGEMENT": "", "EMPLOYMENT": "", "EDUCATION": "", "NETWORK SUPPORT": "", "HOUSEHOLD MANAGEMENT": "", "DISABILITY AND PHYSICAL HEALTH": "" }',
	ANTICIPATED_OUTCOMES	JSON DEFAULT '{ "HOUSING": "", "MONEY MANAGEMENT": "", "EMPLOYMENT": "", "EDUCATION": "", "NETWORK SUPPORT": "", "HOUSEHOLD MANAGEMENT": "", "DISABILITY AND PHYSICAL HEALTH": "" }',
	ANTICIPATED_DATE		JSON DEFAULT '{ "HOUSING": "", "MONEY MANAGEMENT": "", "EMPLOYMENT": "", "EDUCATION": "", "NETWORK SUPPORT": "", "HOUSEHOLD MANAGEMENT": "", "DISABILITY AND PHYSICAL HEALTH": "" }',
	OUTCOME_ACHIEVED		JSON DEFAULT '{ "HOUSING": "", "MONEY MANAGEMENT": "", "EMPLOYMENT": "", "EDUCATION": "", "NETWORK SUPPORT": "", "HOUSEHOLD MANAGEMENT": "", "DISABILITY AND PHYSICAL HEALTH": "" }',
	COMPLETION_DATE			JSON DEFAULT '{ "HOUSING": "", "MONEY MANAGEMENT": "", "EMPLOYMENT": "", "EDUCATION": "", "NETWORK SUPPORT": "", "HOUSEHOLD MANAGEMENT": "", "DISABILITY AND PHYSICAL HEALTH": "" }',
	ACHIEVED_SSM			JSON DEFAULT '{ "HOUSING": "", "MONEY MANAGEMENT": "", "EMPLOYMENT": "", "EDUCATION": "", "NETWORK SUPPORT": "", "HOUSEHOLD MANAGEMENT": "", "DISABILITY AND PHYSICAL HEALTH": "" }',
	FOLLOWUP_NOTES			VARCHAR(2000),
	DATE_ADDED				DATE DEFAULT NOW(),
	DATE_MODIFIED			DATE DEFAULT NOW(),
	SERVICE_COORD			VARCHAR(50)
);
	
CREATE TABLE CASE_NOTES(
	CASE_NOTES_ID	BIGSERIAL PRIMARY KEY,
	DESCRIPTION		VARCHAR(2000),
	ASSESSMENT		VARCHAR(2000),
	PLAN			VARCHAR(2000),
	NO_SHOW_DATE	VARCHAR(20),
	RESIDENT_ID		BIGINT REFERENCES RESIDENT(RESIDENT_ID),
	SERVICE_COORD	VARCHAR(50),
	DATE_ADDED		DATE DEFAULT NOW(),		
	DATE_MODIFIED	DATE DEFAULT NOW()
	
);


CREATE TABLE RESIDENT_ASSESSMENT_QUESTIONNAIRE(
	RAQ_ID			BIGSERIAL PRIMARY KEY,
	RESIDENT_ID		BIGINT REFERENCES RESIDENT(RESIDENT_ID),
	QUESTION_ID		INT REFERENCES ASSESSMENT_QUESTIONNAIRE(QUESTION_ID),
	CHOICE_ID		INT REFERENCES CHOICE(CHOICE_ID),
	LIFE_DOMAIN		VARCHAR(50),
	ON_THIS_DATE	DATE
);


CREATE TABLE RESIDENT_SCORE_GOAL(
	RSG_ID			BIGSERIAL PRIMARY KEY,
	RESIDENT_ID		BIGINT REFERENCES RESIDENT(RESIDENT_ID),
	LIFE_DOMAIN		VARCHAR(50),
	SCORE			INT,
	GOAL			INT,
	ON_THIS_DATE	DATE	
);
 
-- Create table
CREATE table APP_ROLE
(
  ROLE_ID   INT not null,
  ROLE_NAME VARCHAR(30) not null
) ;
--  

alter table APP_ROLE
  add constraint APP_ROLE_PK primary key (ROLE_ID);
 
alter table APP_ROLE
  add constraint APP_ROLE_UK unique (ROLE_NAME);
 
-- Create table
CREATE table USER_ROLE
(
  ID      SERIAL primary KEY,
  USER_ID INT NOT NULL,
  ROLE_ID INT NOT NULL
);

--  
 
alter table USER_ROLE
  add constraint USER_ROLE_UK unique (USER_ID, ROLE_ID);
  
alter table USER_ROLE
  add constraint USER_ROLE_FK1 foreign key (USER_ID)
  references  SERVICE_COORDINATOR(SC_ID);
 
alter table USER_ROLE
  add constraint USER_ROLE_FK2 foreign key (ROLE_ID)
  references APP_ROLE (ROLE_ID);  
  
-- Used by Spring Remember Me API.  
CREATE TABLE Persistent_Logins (
    username varchar(64) not null,
    series varchar(64) not null,
    token varchar(64) not null,
    last_used timestamp not null,
    PRIMARY KEY (series)     
);
  
commit;



--Following table will contain each record entry whenver Resident table is modified, so system won't loose records
create table RESIDENT_AUDITS (
	audit_id 			BIGSERIAL primary KEY,
	resident_id 		BIGINT not null,
	ACTIVE				BOOLEAN DEFAULT TRUE,
	IS_RESIDENT 		BOOLEAN DEFAULT TRUE,
	REF_TYPE			INT REFERENCES REFERRAL(REF_ID) NOT NULL,
	FIRST_NAME			VARCHAR(128),
	MIDDLE				VARCHAR(128),
	LAST_NAME			VARCHAR(128),
	PROP_ID				INT REFERENCES PROPERTY(PROP_ID),
	VIA_VOICEMAIL		BOOLEAN DEFAULT FALSE,
	VIA_TEXT			BOOLEAN DEFAULT FALSE,
	VIA_EMAIL			BOOLEAN DEFAULT FALSE,
	VOICEMAIL_NO		VARCHAR(20),
	TEXT_NO				VARCHAR(20),
	EMAIL				VARCHAR(256),
	ADDRESS				VARCHAR(256),
	ACK_PR				BOOLEAN DEFAULT FALSE,
	ALLOW_CONTACT		BOOLEAN DEFAULT FALSE,
	WANTS_SURVEY		BOOLEAN DEFAULT FALSE,
	PHOTO_RELEASE		BOOLEAN DEFAULT FALSE,
	AUDIT_DATE			TIMESTAMP,
	MODIFIED_BY			VARCHAR(50),
	SERVICE_COORD		VARCHAR(50),
	AGE					VARCHAR(3),
	PRI_LANGUAGE		VARCHAR(128) DEFAULT 'English',
	MARITAL_STATUS		VARCHAR(128),
	ANNUAL_GROSS 		VARCHAR(128),
	GENDER				VARCHAR(128) DEFAULT 'Information not collected',
	ETHNICITY			VARCHAR(128) DEFAULT 'Information not collected',
	RACE				VARCHAR(128) DEFAULT 'Information not collected',
	H_O_H				VARCHAR(128) DEFAULT 'Information not collected',
	VETERAN				VARCHAR(128) DEFAULT 'Information not collected',
	DISABILITY			VARCHAR(128) DEFAULT 'Information not collected',
	RC_OR_EX_OFF		VARCHAR(128) DEFAULT 'Information not collected',
	SSI					VARCHAR(128) DEFAULT 'Information not collected',
	SSDI				VARCHAR(128) DEFAULT 'Information not collected',
	HEALTH_COVERAGE		VARCHAR(128) DEFAULT 'Information not collected',
	HIGHEST_EDU			VARCHAR(128) DEFAULT 'Information not collected',
	SAFE_DAY			VARCHAR(50),
	SAFE_NIGHT 			VARCHAR(50),
	OCCUPANCY_LENGTH	VARCHAR(50),
	INT_RES_COUNCIL 	VARCHAR(10),
	MODE_TRANSPORT		VARCHAR(50),
	EXP_FOOD_SHORT		VARCHAR(50),
	INTERNET_ACCESS 	VARCHAR(50),
	HOH_TYPE			VARCHAR(50),
	UNEMP_REASON		VARCHAR(100),
	BARRIER_TO_EDU		VARCHAR(100),
	HEALTH_CONDITION	VARCHAR(100),
	PROGRAM_SRVC_YOUTH	VARCHAR(100),
	PROGRAM_SRVC_ADULT	VARCHAR(100)

);


CREATE OR REPLACE FUNCTION log_resident_changes()
  RETURNS TRIGGER 
  LANGUAGE PLPGSQL  
  AS
$$
BEGIN
		INSERT INTO RESIDENT_AUDITS (audit_date, resident_id, ACTIVE,	IS_RESIDENT,	REF_TYPE,	FIRST_NAME,	MIDDLE,	LAST_NAME,	PROP_ID,	VIA_VOICEMAIL,	VIA_TEXT,	VIA_EMAIL,	VOICEMAIL_NO,	TEXT_NO,	EMAIL,	ADDRESS,	ACK_PR,	ALLOW_CONTACT,	WANTS_SURVEY,	PHOTO_RELEASE,	MODIFIED_BY,	SERVICE_COORD,	AGE,	PRI_LANGUAGE,	MARITAL_STATUS,	ANNUAL_GROSS,	GENDER,	ETHNICITY,	RACE,	H_O_H,	VETERAN,	DISABILITY,	RC_OR_EX_OFF,	SSI	,	SSDI,	HEALTH_COVERAGE,	HIGHEST_EDU,	SAFE_DAY,	SAFE_NIGHT,	OCCUPANCY_LENGTH,	INT_RES_COUNCIL,	MODE_TRANSPORT,	EXP_FOOD_SHORT,	INTERNET_ACCESS,	HOH_TYPE,	UNEMP_REASON,	BARRIER_TO_EDU,	HEALTH_CONDITION,	PROGRAM_SRVC_YOUTH,	PROGRAM_SRVC_ADULT )
		VALUES(now(), new.resident_id,	new.ACTIVE,	new.IS_RESIDENT,	new.REF_TYPE,	new.FIRST_NAME,	new.MIDDLE,	new.LAST_NAME,	new.PROP_ID,	new.VIA_VOICEMAIL,	new.VIA_TEXT,	new.VIA_EMAIL,	new.VOICEMAIL_NO,	new.TEXT_NO,	new.EMAIL,	new.ADDRESS,	new.ACK_PR,	new.ALLOW_CONTACT,	new.WANTS_SURVEY,	new.PHOTO_RELEASE,	new.MODIFIED_BY,	new.SERVICE_COORD,	new.AGE,	new.PRI_LANGUAGE,	new.MARITAL_STATUS,	new.ANNUAL_GROSS,	new.GENDER,	new.ETHNICITY,	new.RACE,	new.H_O_H,	new.VETERAN,	new.DISABILITY,	new.RC_OR_EX_OFF,	new.SSI	,	new.SSDI,	new.HEALTH_COVERAGE,	new.HIGHEST_EDU,	new.SAFE_DAY,	new.SAFE_NIGHT,	new.OCCUPANCY_LENGTH,	new.INT_RES_COUNCIL,	new.MODE_TRANSPORT,	new.EXP_FOOD_SHORT,	new.INTERNET_ACCESS,	new.HOH_TYPE,	new.UNEMP_REASON,	new.BARRIER_TO_EDU,	new.HEALTH_CONDITION,	new.PROGRAM_SRVC_YOUTH,	new.PROGRAM_SRVC_ADULT);
	
	RETURN NEW;
END;
$$;

CREATE TRIGGER resident_changes
  BEFORE INSERT OR UPDATE
  ON RESIDENT
  FOR EACH ROW
  EXECUTE PROCEDURE log_resident_changes();




INSERT INTO resident (active,is_resident,ref_type,first_name,middle,last_name,prop_id,via_voicemail,via_text,via_email,voicemail_no,text_no,email,address,ack_pr,allow_contact,wants_survey,photo_release,date_added,date_modified,modified_by,service_coord,a_type,a_date,age,pri_language,marital_status,annual_gross,gender,ethnicity,race,h_o_h,veteran,disability,rc_or_ex_off,ssi,ssdi,health_coverage,highest_edu,safe_day,safe_night, occupancy_length, internet_Access, mode_transport, EXP_FOOD_SHORT, hoh_type, int_res_council, UNEMP_REASON, BARRIER_TO_EDU, HEALTH_CONDITION, PROGRAM_SRVC_YOUTH, PROGRAM_SRVC_ADULT) VALUES 
(true,true,1,'Hawk','','Eye',2,false,false,true,NULL,'614-111-1052','HawkEye@gmail.com','1234 Hawk st.',true,true,true,true,'2019-04-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'100','English','Significant Other','10000','Male','Information not collected','Aisan','Yes','No','N/A','N/A','N/A','N/A','N/A','Grade 11 N/A','Somewhat safe','Very unsafe', 'Less than 1 Year', 'No, I have no internet access', 'Walk/Bike', 'Beginning of the Month', 'One Parent', 'No','No transportation', 'Criminal record', 'Asthma', 'Arts and crafts', NULL  )
,(true,true,2,'Super','','Man',2,false,false,false,NULL,'614-111-1053','SuperMan@gmail.com','1234 super st.',true,true,true,true,'2020-08-25 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'29','English','Significant Other','10000','Male','Information not collected','Mixed Race','Yes','No','N/A','N/A','N/A','N/A','N/A','Grade 11 N/A','Very safe','Very unsafe', 'Less than 1 Year', 'No, but my phone has internet access', 'Walk/Bike', 'Beginning of the Month', 'No Children', 'No','Caregiver', 'FAFSA application', 'Cancer', 'After school program', NULL  )
,(true,true,3,'Black','','Panther',16,false,false,false,NULL,'614-111-1068','BlackPanther@gmail.com','1234 Panther st.',true,true,true,true,'2020-08-26 12:19:32.236',NULL,'dbadmin1','dbadmin1',NULL,NULL,'80','English','Significant Other','10000','Male','Information not collected','Information not collected','Yes','No','N/A','N/A','N/A','N/A','N/A','Grade 5 Bachelor''s Degree','Somewhat safe','Very unsafe', '1-3 Years', 'No, but my phone has internet access', 'Bus', 'Beginning of the Month', 'No Children', 'No','Disabled', 'Lack of childcare', 'Diabetes', 'Computer education', NULL  )
,(true,true,4,'Ice','','Man',15,false,false,false,NULL,'614-111-1072','IceMan@gmail.com','1234 Ice st.',true,true,true,true,'2020-07-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'97','English','Significant Other','10000','Male','Information not collected','Black or African American','Yes','Yes','N/A','N/A','N/A','N/A','N/A','Grade 5 Bachelor''s Degree','Somewhat safe','Very unsafe', 'Less than 1 Year', 'No, but my phone has internet access', 'Someone drives me', 'Beginning of the Month', 'No Children', 'Yes','Health problems', 'Lack of funding', 'High blood pressure', 'Arts and crafts', NULL  )
,(true,true,5,'Spider','','Man',1,false,true,true,NULL,'614-111-1030','SpiderMan@gmail.com','1234 spidy st',true,false,true,true,'2020-08-25 11:17:53.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'17','English','Significant Other','25000','Male','Individual does not know','Black or African American','Yes','No','N/A','N/A','N/A','N/A','Medicare','Information not collected','Somewhat safe','Very unsafe', '1-3 Years', 'No, but my phone has internet access', 'Walk/Bike', 'Beginning of the Month', 'No Children', 'No','In school', 'No HS diploma/GED', 'Heart disease', 'Delinquency prevention', NULL  )
,(true,true,1,'Dare','','Devil',3,false,false,true,NULL,'614-111-1019','DareDevil@gmail.com','1234 Dare st.',true,true,true,true,'2020-01-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'48','English','Significant Other','10000','Male','Information not collected','White','No','No','N/A','N/A','N/A','N/A','N/A','Grade 11 N/A','Very safe','Very safe', 'Less than 1 Year', 'Yes', 'Walk/Bike', 'Beginning of the Month', 'No Children', 'Yes','No child care', 'Owe money to a school', 'Mental health/depression', 'Arts and crafts', NULL  )
,(true,true,5,'Ant','','Man',4,false,false,false,NULL,'614-111-1038','AntMan@gmail.com','1234 Ant st.',true,true,true,true,'2020-04-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'55','English','Significant Other','10000','Male','Information not collected','Information not collected','Yes','Yes','N/A','N/A','N/A','N/A','N/A','Grade 6 Master''s Degree','Somewhat safe','Very unsafe', '10 or more Years', 'No, but my phone has internet access', 'Personal Vehicle', 'Beginning of the Month', 'No Children', 'Yes','No driver''s license', 'Poor grades', 'Substance abuse', 'Drug prevention', NULL  )
,(true,true,2,'Dead','','Pool',4,false,false,false,NULL,'614-111-1016','DeadPool@gmail.com','1234 Dead st.',true,true,true,true,'2020-01-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'17','English','Significant Other','10000','Male','Information not collected','Information not collected','No','No','N/A','N/A','N/A','N/A','N/A','Grade 8 Doctorate Degree','Somewhat safe','Very unsafe', '7-9 Years', 'No, but my phone has internet access', 'Personal Vehicle', 'No', 'One Parent', 'No','No transportation', 'Transportation', 'Other', 'Field trips', NULL  )
,(true,true,3,'Luke','','Cage',5,false,false,true,NULL,'614-111-1022','LukeCage@gmail.com','1234 Luke st.',true,true,true,true,'2020-01-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'96','English','Significant Other','10000','Male','Information not collected','Black or African American','No','No','N/A','N/A','N/A','N/A','N/A','12 grade, no diploma','Somewhat safe', 'Somewhat unsafe', '7-9 Years', 'No, but my phone has internet access', 'Someone drives me', 'No', 'One Parent', 'No','Retired', 'Unsure of a career field', 'Asthma', 'GED/ESL', NULL  )
,(true,true,4,'Captain','','America',9,false,false,true,NULL,'614-111-1031','CaptainAmerica@gmail.com','1234 America st.',true,true,true,true,'2020-04-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'32','English','Significant Other','10000','Male','Information not collected','Aisan','Yes','Yes','N/A','N/A','N/A','N/A','N/A','Grade 11 N/A','Very unsafe','Very unsafe', '7-9 Years', 'Yes', 'Bus', 'Beginning of the Month', 'No Children', 'No','Stay at home parent', 'Work', 'Cancer', 'Jobs', NULL  )
;
INSERT INTO resident (active,is_resident,ref_type,first_name,middle,last_name,prop_id,via_voicemail,via_text,via_email,voicemail_no,text_no,email,address,ack_pr,allow_contact,wants_survey,photo_release,date_added,date_modified,modified_by,service_coord,a_type,a_date,age,pri_language,marital_status,annual_gross,gender,ethnicity,race,h_o_h,veteran,disability,rc_or_ex_off,ssi,ssdi,health_coverage,highest_edu,safe_day,safe_night, occupancy_length, internet_Access, mode_transport, EXP_FOOD_SHORT, hoh_type, int_res_council, UNEMP_REASON, BARRIER_TO_EDU, HEALTH_CONDITION, PROGRAM_SRVC_YOUTH, PROGRAM_SRVC_ADULT) VALUES
(true,true,5,'Green','','Hulk',7,false,true,false,NULL,'614-111-1034','GreenHulk@gmail.com','1234 Hulk st.',true,true,true,true,'2020-04-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'5','English','Significant Other','10000','Male','Information not collected','Information not collected','Yes','No','N/A','N/A','N/A','N/A','N/A','Grade 4 Associate''s Degree','Very unsafe','Very unsafe', '7-9 Years', 'Yes', 'Bus', 'Beginning of the Month', 'No Children', 'No','No transportation', 'Transportation', 'Diabetes', 'Mentoring', NULL  )
,(true,true,1,'The','','Flash',11,false,false,false,NULL,'614-111-1083','TheFlash@gmail.com','1234 Flash st.',true,true,true,true,'2019-08-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'2','Other','Significant Other','10000','Male','Information not collected','Information not collected','Yes','Yes','N/A','N/A','N/A','N/A','N/A','No schooling completed, Nursery or, kindergarten','Very unsafe','Very unsafe', 'Less than 1 Year', 'Yes', 'Someone drives me', 'Beginning of the Month', 'Two Parent', 'No','Care giver', 'Criminal record', 'High blood pressure', 'Music', NULL  )
,(true,true,2,'Logan','','Wolverine',8,false,true,true,NULL,'614-111-1033','LoganWolverine@gmail.com','1234 Logan st.',true,true,true,true,'2020-04-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'63','English','Significant Other','10000','Male','Information not collected','Aisan','Yes','No','N/A','N/A','N/A','N/A','N/A','Grade 9 Individual refused','Very unsafe','Very unsafe', '7-9 Years', 'Yes', 'Bus', 'Beginning of the Month', 'No Children', 'No','Health problems', 'FAFSA application', 'Heart disease', 'Sports', NULL  )
,(true,true,3,'The','','Thing',9,false,true,false,NULL,'614-111-1079','TheThing@gmail.com','1234 Thing st.',true,true,true,true,'2020-07-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'19','English','Significant Other','10000','Male','Information not collected','Information not collected','Yes','Yes','N/A','N/A','N/A','N/A','N/A','Grade 5 Bachelor''s Degree','Very unsafe','Very unsafe', '7-9 Years', 'Yes', 'Bus', 'No', 'No Children', 'No','Retired', 'Lack of childcare', 'Mental health/depression', 'Tutoring', NULL  )
,(true,true,4,'Silver','','Surfer',6,false,false,false,NULL,'614-111-1086','SilverSurfer@gmail.com','1234 Silver st.',true,true,true,true,'2019-12-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'40','Spanish','Significant Other','10000','Male','Information not collected','Aisan','Yes','Yes','N/A','N/A','N/A','N/A','N/A','No schooling completed, Nursery or, kindergarten','Somewhat safe', 'Somewhat unsafe', '4-6 Years', 'No', 'Someone drives me', 'Beginning of the Month', 'One Parent', 'No','Stay at home parent', 'Lack of funding', 'Substance abuse', NULL, 'College preparation'  )
,(true,true,5,'Aqua','','Man',17,false,false,false,NULL,'614-111-1071','AquaMan@gmail.com','1234 Aqua st.',true,true,true,true,'2020-07-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'55','English','Significant Other','10000','Male','Information not collected','Information not collected','Yes','No','N/A','N/A','N/A','N/A','N/A','Grade 5 Bachelor''s Degree','Somewhat safe','Very unsafe', '4-6 Years', 'No, but my phone has internet access', 'Someone drives me', 'Beginning of the Month', 'One Parent', 'No','Disabled', 'No HS diploma/GED', 'Other', NULL, 'Counselling'  )
,(true,true,1,'Wonder','','Woman',12,false,false,false,NULL,'614-111-1093','WonderWoman@gmail.com','1234 Wonder st.',true,true,true,true,'2019-12-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'61','Spanish','Significant Other','10000','Female','Information not collected','Information not collected','Yes','Yes','N/A','N/A','N/A','N/A','N/A','No schooling completed, Nursery or, kindergarten','Somewhat safe','Very unsafe', 'Less than 1 Year', 'No, but my phone has internet access', 'Bus', 'Beginning of the Month', 'One Parent', 'No','No child care', 'Owe money to a school', 'Asthma',  NULL, 'Emergency assist'  )
,(true,true,2,'Black','','Widow',14,false,false,true,NULL,'614-111-1045','BlackWidow@gmail.com','1234 Widow st.',true,true,true,true,'2020-08-26 12:19:32.236',NULL,'dbadmin1','dbadmin1',NULL,NULL,'23','English','Significant Other','10000','Female','Information not collected','Information not collected','Yes','No','N/A','N/A','N/A','N/A','N/A','Grade 11 N/A','Very unsafe','Very unsafe', '4-6 Years', 'Yes', 'Walk/Bike', 'Beginning of the Month', 'No Children', 'No','No driver''s license', 'Poor grades', 'Asthma',  NULL, 'GED/ESL'  )
,(true,true,3,'Iron','','Man',5,false,true,true,NULL,'614-111-1047','IronMan@gmail.com','1234 Iron st.',true,true,true,true,'2020-08-26 12:19:32.236',NULL,'dbadmin1','dbadmin1',NULL,NULL,'8','English','Significant Other','63000','Male','Information not collected','Information not collected','Yes','No','N/A','N/A','N/A','N/A','N/A','Grade 11 N/A','Very safe','Very safe', '4-6 Years', 'Yes', 'Bus', 'Beginning of the Month', 'No Children', 'No','In school', 'Transportation', 'Asthma',  NULL, 'Home ownership education'  )
,(true,true,4,'The','','Shazam',13,false,false,true,NULL,'614-111-1049','TheShazam@gmail.com','1234 Shazam st.',true,true,true,true,'2020-08-26 12:19:32.236',NULL,'dbadmin1','dbadmin1',NULL,NULL,'28','English','Significant Other','66000','Male','Information not collected','Aisan','Yes','No','N/A','N/A','N/A','N/A','N/A','Grade 11 N/A','Very safe','Very safe', '4-6 Years', 'Yes', 'Walk/Bike', 'Beginning of the Month', 'No Children', 'No','In school', 'Work', 'Asthma',  NULL, 'Jobs'  )
;
INSERT INTO resident (active,is_resident,ref_type,first_name,middle,last_name,prop_id,via_voicemail,via_text,via_email,voicemail_no,text_no,email,address,ack_pr,allow_contact,wants_survey,photo_release,date_added,date_modified,modified_by,service_coord,a_type,a_date,age,pri_language,marital_status,annual_gross,gender,ethnicity,race,h_o_h,veteran,disability,rc_or_ex_off,ssi,ssdi,health_coverage,highest_edu,safe_day,safe_night, occupancy_length, internet_Access, mode_transport, EXP_FOOD_SHORT, hoh_type, int_res_council, UNEMP_REASON, BARRIER_TO_EDU, HEALTH_CONDITION, PROGRAM_SRVC_YOUTH, PROGRAM_SRVC_ADULT) VALUES
(true,true,5,'Red','','Robin',12,false,NULL,false,NULL,'614-111-1050','RedRobin@gmail.com','1234 Robin st.',true,true,true,true,'2020-08-26 12:19:32.236',NULL,'dbadmin1','dbadmin1',NULL,NULL,'3','English','Significant Other','29000','Male','Information not collected','Information not collected','Yes','No','N/A','N/A','N/A','N/A','N/A','No schooling completed, Nursery or, kindergarten','Very safe','Very safe', 'Less than 1 Year', 'Yes', 'Bus', 'Beginning of the Month', 'No Children', 'Yes','No transportation', 'Unsure of a career field', 'Asthma',  NULL, 'Small business dev'  )
,(true,true,1,'Bat','','Man',3,false,false,false,NULL,'614-111-1051','BatMan@gmail.com','1234 Bat st.',true,true,true,true,'2019-01-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'41','English','Significant Other','33000','Male','Information not collected','Aisan','Yes','Yes','N/A','N/A','N/A','N/A','N/A','Grade 11 N/A','Somewhat safe','Very unsafe', '4-6 Years', 'Yes', 'Bus', 'End of the Month', 'No Children', 'Yes','No transportation', 'Work', 'Asthma',  NULL, 'Vocational education'  )
,(true,true,2,'Professor','','X',7,false,false,true,NULL,'614-111-1064','ProfessorX@gmail.com','1234 Professor st.',true,true,true,true,'2019-02-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'75','English','Significant Other','31000','Male','Information not collected','Information not collected','Yes','Yes','N/A','N/A','N/A','N/A','N/A','Grade 5 Bachelor''s Degree','Somewhat safe', 'Somewhat unsafe', 'Less than 1 Year', 'No, but my phone has internet access', 'Bus', 'Beginning of the Month', 'One Parent', 'No','No transportation', 'Transportation', 'Asthma', 'Tutoring', NULL  )
,(true,true,3,'The','','Thor',10,false,true,true,NULL,'614-111-1076','TheThor@gmail.com','1234 Thor st.',true,true,true,true,'2020-07-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'68','English','Significant Other','22000','Male','Information not collected','Black or African American','Yes','No','N/A','N/A','N/A','N/A','N/A','Grade 5 Bachelor''s Degree','Somewhat safe','Very unsafe', '4-6 Years', 'No, but my phone has internet access', 'Bus', 'Beginning of the Month', 'Two Parent', 'Yes','No transportation', 'Transportation', 'Asthma', 'Sports', NULL  )
,(true,true,4,'Human','','Torch',1,false,false,false,NULL,'614-111-1081','HumanTorch@gmail.com','1234 Human st.',true,true,true,true,'2019-08-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'51','Other','Significant Other','10000','Male','Information not collected','Information not collected','Yes','No','N/A','N/A','N/A','N/A','N/A','Grade 5 Bachelor''s Degree','Somewhat safe','Very unsafe', '1-3 Years', 'No, but my phone has internet access', 'Personal Vehicle', 'Middle of the Month', 'Two Parent', 'Yes','No transportation', 'Transportation', 'Asthma', 'Music', NULL  )
,(true,true,5,'The','','Wasp',10,false,true,false,NULL,'614-111-1085','TheWasp@gmail.com','1234 Wasp st.',true,true,true,true,'2019-12-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'20','Spanish','Significant Other','43000','Male','Information not collected','Information not collected','Yes','No','N/A','N/A','N/A','N/A','N/A','No schooling completed, Nursery or, kindergarten','Somewhat safe', 'Somewhat unsafe', '1-3 Years', 'No', 'Bus', 'Beginning of the Month', 'No Children', 'No','No transportation', 'Transportation', 'Asthma', 'Mentoring', NULL  )
,(true,true,1,'The','','Groot',11,false,true,false,NULL,'614-111-1091','TheGroot@gmail.com','1234 Groot st.',true,true,true,true,'2019-08-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'42','Spanish','Significant Other','55000','Male','Information not collected','Aisan','Yes','No','N/A','N/A','N/A','N/A','N/A','No schooling completed, Nursery or, kindergarten','Very unsafe','Very unsafe', '10 or more Years', 'No', 'Personal Vehicle', 'Middle of the Month', 'No Children', 'Yes','Criminal record', 'Criminal record', 'Asthma', NULL, 'Vocational education'  )
,(true,true,2,'Black','','Canary',13,false,false,true,NULL,'614-111-1096','BlackCanary@gmail.com','1234 Black st.',true,true,true,true,'2019-12-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'12','Spanish','Significant Other','65000','Female','Information not collected','Black or African American','Yes','No','N/A','N/A','N/A','N/A','N/A','No schooling completed, Nursery or, kindergarten','Somewhat safe', 'Somewhat unsafe', '1-3 Years', 'No, but my phone has internet access', 'Bus', 'Middle of the Month', 'Two Parent', 'Yes','No transportation', 'Transportation', 'Asthma',  NULL, 'Small business dev'  )
,(true,true,3,'Super','','Girl',6,false,false,true,NULL,'614-111-1014','SuperGirl@gmail.com','1234 Girl st.',true,true,true,true,'2020-01-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'71','English','Significant Other','70000','Male','Information not collected','Aisan','No','No','N/A','N/A','N/A','N/A','N/A','High School Diploma','Very safe','Very safe', '1-3 Years', 'No, I have no internet access', 'Personal Vehicle', 'Middle of the Month', 'Two Parent', 'No','No transportation', 'Transportation', 'Asthma', NULL, 'Jobs'  )
,(true,true,4,'Green','','Lantern',8,false,false,true,NULL,'614-111-1035','GreenLantern@gmail.com','1234 Lantern st.',true,true,true,true,'2020-04-26 12:19:32.000',NULL,'dbadmin1','dbadmin1',NULL,NULL,'10','English','Significant Other','40000','Male','Information not collected','Information not collected','Yes','No','N/A','N/A','N/A','N/A','N/A','Grade 5 Bachelor''s Degree','Very safe','Very safe', '10 or more Years', 'No', 'Walk/Bike', 'End of the Month', 'Two Parent', 'No','No transportation', 'Transportation', 'Asthma',  NULL, 'Home ownership education'  )
,(true,true,2,'Elastic','','Girl',8,false,true,true,NULL,'614-111-1000','elastic@email.com','1234 elastic ave',true,false,true,true,'2020-09-01 23:55:42.484','2020-09-01 23:59:03.241','dbadmin1','dbadmin1',NULL,NULL,'','English','Married','9000','Male','Information not collected','Information not collected','Yes','No','N/A','N/A','N/A','N/A','N/A','Grade 5 Bachelor''s Degree','Very safe','Very safe', '10 or more Years', 'No', 'Walk/Bike', 'End of the Month', 'Two Parent', 'No','No transportation', 'Transportation', 'Asthma',  NULL, 'GED/ESL'  )
;
INSERT INTO resident (active,is_resident,ref_type,first_name,middle,last_name,prop_id,via_voicemail,via_text,via_email,voicemail_no,text_no,email,address,ack_pr,allow_contact,wants_survey,photo_release,date_added,date_modified,modified_by,service_coord,a_type,a_date,age,pri_language,marital_status,annual_gross,gender,ethnicity,race,h_o_h,veteran,disability,rc_or_ex_off,ssi,ssdi,health_coverage,highest_edu,safe_day,safe_night,occupancy_length,int_res_council,mode_transport,exp_food_short,internet_access,hoh_type) VALUES 
(true,true,1,'The','','Phantom',3,false,false,false,NULL,'614-111-1050',NULL,'1234 phantom st.',false,false,false,false,'2020-09-07 20:18:08.304','2020-09-07 20:18:08.304',NULL,'dbuser1',NULL,NULL,NULL,'English','Single',NULL,'Information not collected','Information not collected','Information not collected','Information not collected','Information not collected','Information not collected','Information not collected','Information not collected','Information not collected','Information not collected','Information not collected',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL)
;



INSERT INTO child (full_name,parent_id,pvr_flag) VALUES 
('Spidy baby 1',1,true)
,('Spidy baby2',1,true)
,('Super baby1',2,false)
,('Super baby2',2,false)
,('Child 1',3,false)
,('Child 2',3,true)
,('Child 1',4,false)
,('Child 2',4,true)
,('Child 1',5,true)
,('Child 2',5,false)
;
INSERT INTO child (full_name,parent_id,pvr_flag) VALUES 
('Child 1',6,true)
,('Child 2',6,false)
,('Child 1',7,true)
,('Child 2',7,false)
,('Child 1',8,true)
,('Child 2',8,false)
,('Child 1',9,true)
,('Child 2',9,true)
,('Child 1',10,false)
,('Child 2',11,true)
;
INSERT INTO child (full_name,parent_id,pvr_flag) VALUES 
('Child 1',12,true)
,('Child 2',12,false)
,('Child 1',13,true)
,('Child 2',13,true)
,('Child 1',30,false)
,('Child 2',30,false)
,('Child 1',25,true)
,('Child 2',25,false)
,('Child 1',23,false)
,('Child 2',23,false)
;

INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(1,1,1,'HOUSING','2019-04-26')
,(1,2,2,'HOUSING','2019-04-26')
,(1,3,1,'HOUSING','2019-04-26')
,(1,6,2,'HOUSING','2019-04-26')
,(1,7,2,'HOUSING','2019-04-26')
,(1,9,2,'MONEY MANAGEMENT','2019-04-26')
,(1,12,2,'MONEY MANAGEMENT','2019-04-26')
,(1,13,2,'MONEY MANAGEMENT','2019-04-26')
,(1,14,1,'MONEY MANAGEMENT','2019-04-26')
,(1,16,2,'MONEY MANAGEMENT','2019-04-26')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(1,17,2,'MONEY MANAGEMENT','2019-04-26')
,(1,19,9,'EMPLOYMENT','2019-04-26')
,(1,20,2,'EMPLOYMENT','2019-04-26')
,(1,26,2,'EDUCATION','2019-04-26')
,(1,27,1,'EDUCATION','2019-04-26')
,(1,28,2,'EDUCATION','2019-04-26')
,(1,29,2,'EDUCATION','2019-04-26')
,(1,32,2,'NETWORK SUPPORT','2019-04-26')
,(1,33,2,'NETWORK SUPPORT','2019-04-26')
,(1,40,2,'HOUSEHOLD MANAGEMENT','2019-04-26')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(1,41,2,'HOUSEHOLD MANAGEMENT','2019-04-26')
,(1,42,2,'HOUSEHOLD MANAGEMENT','2019-04-26')
,(2,1,1,'HOUSING','2020-08-25')
,(2,2,2,'HOUSING','2020-08-25')
,(2,3,1,'HOUSING','2020-08-25')
,(2,6,2,'HOUSING','2020-08-25')
,(2,7,1,'HOUSING','2020-08-25')
,(2,8,2,'HOUSING','2020-08-25')
,(2,9,2,'MONEY MANAGEMENT','2020-08-25')
,(2,12,2,'MONEY MANAGEMENT','2020-08-25')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(2,13,2,'MONEY MANAGEMENT','2020-08-25')
,(2,14,1,'MONEY MANAGEMENT','2020-08-25')
,(2,16,2,'MONEY MANAGEMENT','2020-08-25')
,(2,17,2,'MONEY MANAGEMENT','2020-08-25')
,(2,19,9,'EMPLOYMENT','2020-08-25')
,(2,20,3,'EMPLOYMENT','2020-08-25')
,(2,21,2,'EMPLOYMENT','2020-08-25')
,(2,26,2,'EDUCATION','2020-08-25')
,(2,27,1,'EDUCATION','2020-08-25')
,(2,28,2,'EDUCATION','2020-08-25')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(2,29,1,'EDUCATION','2020-08-25')
,(2,30,3,'EDUCATION','2020-08-25')
,(2,31,3,'EDUCATION','2020-08-25')
,(2,32,2,'NETWORK SUPPORT','2020-08-25')
,(2,33,2,'NETWORK SUPPORT','2020-08-25')
,(2,40,2,'HOUSEHOLD MANAGEMENT','2020-08-25')
,(2,41,2,'HOUSEHOLD MANAGEMENT','2020-08-25')
,(2,42,2,'HOUSEHOLD MANAGEMENT','2020-08-25')
,(3,1,1,'HOUSING','2020-08-26')
,(3,2,2,'HOUSING','2020-08-26')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(3,3,1,'HOUSING','2020-08-26')
,(3,6,2,'HOUSING','2020-08-26')
,(3,7,1,'HOUSING','2020-08-26')
,(3,8,2,'HOUSING','2020-08-26')
,(3,9,2,'MONEY MANAGEMENT','2020-08-26')
,(3,12,2,'MONEY MANAGEMENT','2020-08-26')
,(3,13,2,'MONEY MANAGEMENT','2020-08-26')
,(3,14,1,'MONEY MANAGEMENT','2020-08-26')
,(3,16,2,'MONEY MANAGEMENT','2020-08-26')
,(3,17,2,'MONEY MANAGEMENT','2020-08-26')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(3,19,9,'EMPLOYMENT','2020-08-26')
,(3,20,3,'EMPLOYMENT','2020-08-26')
,(3,21,2,'EMPLOYMENT','2020-08-26')
,(3,26,2,'EDUCATION','2020-08-26')
,(3,27,1,'EDUCATION','2020-08-26')
,(3,28,2,'EDUCATION','2020-08-26')
,(3,29,1,'EDUCATION','2020-08-26')
,(3,30,3,'EDUCATION','2020-08-26')
,(3,31,3,'EDUCATION','2020-08-26')
,(3,32,2,'NETWORK SUPPORT','2020-08-26')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(3,33,2,'NETWORK SUPPORT','2020-08-26')
,(3,40,2,'HOUSEHOLD MANAGEMENT','2020-08-26')
,(3,41,2,'HOUSEHOLD MANAGEMENT','2020-08-26')
,(3,42,2,'HOUSEHOLD MANAGEMENT','2020-08-26')
,(1,48,2,'DISABILITY AND PHYSICAL HEALTH','2019-04-26')
,(1,49,1,'DISABILITY AND PHYSICAL HEALTH','2019-04-26')
,(1,50,2,'DISABILITY AND PHYSICAL HEALTH','2019-04-26')
,(1,51,1,'DISABILITY AND PHYSICAL HEALTH','2019-04-26')
,(1,52,12,'DISABILITY AND PHYSICAL HEALTH','2019-04-26')
,(2,48,1,'DISABILITY AND PHYSICAL HEALTH','2020-09-03')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(2,49,1,'DISABILITY AND PHYSICAL HEALTH','2020-09-03')
,(2,50,1,'DISABILITY AND PHYSICAL HEALTH','2020-09-03')
,(2,51,2,'DISABILITY AND PHYSICAL HEALTH','2020-09-03')
,(2,52,16,'DISABILITY AND PHYSICAL HEALTH','2020-09-03')
,(6,1,1,'HOUSING','2020-01-26')
,(6,2,2,'HOUSING','2020-01-26')
,(6,3,2,'HOUSING','2020-01-26')
,(6,4,1,'HOUSING','2020-01-26')
,(6,5,2,'HOUSING','2020-01-26')
,(6,6,2,'HOUSING','2020-01-26')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(6,7,1,'HOUSING','2020-01-26')
,(6,8,1,'HOUSING','2020-01-26')
,(6,9,2,'MONEY MANAGEMENT','2020-01-26')
,(6,10,1,'MONEY MANAGEMENT','2020-01-26')
,(6,11,2,'MONEY MANAGEMENT','2020-01-26')
,(6,12,1,'MONEY MANAGEMENT','2020-01-26')
,(6,13,2,'MONEY MANAGEMENT','2020-01-26')
,(6,14,4,'MONEY MANAGEMENT','2020-01-26')
,(6,15,3,'MONEY MANAGEMENT','2020-01-26')
,(6,16,3,'MONEY MANAGEMENT','2020-01-26')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(6,17,3,'MONEY MANAGEMENT','2020-01-26')
,(6,18,5,'MONEY MANAGEMENT','2020-01-26')
,(6,19,10,'EMPLOYMENT','2020-01-26')
,(6,20,1,'EMPLOYMENT','2020-01-26')
,(6,21,1,'EMPLOYMENT','2020-01-26')
,(6,22,1,'EMPLOYMENT','2020-01-26')
,(6,23,2,'EMPLOYMENT','2020-01-26')
,(6,24,1,'EMPLOYMENT','2020-01-26')
,(6,25,1,'EMPLOYMENT','2020-01-26')
,(6,26,1,'EDUCATION','2020-01-26')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(6,27,1,'EDUCATION','2020-01-26')
,(6,28,2,'EDUCATION','2020-01-26')
,(6,29,2,'EDUCATION','2020-01-26')
,(6,30,1,'EDUCATION','2020-01-26')
,(6,31,1,'EDUCATION','2020-01-26')
,(6,32,1,'NETWORK SUPPORT','2020-01-26')
,(6,33,1,'NETWORK SUPPORT','2020-01-26')
,(6,34,1,'NETWORK SUPPORT','2020-01-26')
,(6,35,1,'NETWORK SUPPORT','2020-01-26')
,(6,36,1,'NETWORK SUPPORT','2020-01-26')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(6,37,1,'NETWORK SUPPORT','2020-01-26')
,(6,38,1,'NETWORK SUPPORT','2020-01-26')
,(6,39,1,'NETWORK SUPPORT','2020-01-26')
,(6,40,3,'HOUSEHOLD MANAGEMENT','2020-01-26')
,(6,41,3,'HOUSEHOLD MANAGEMENT','2020-01-26')
,(6,42,3,'HOUSEHOLD MANAGEMENT','2020-01-26')
,(6,43,3,'HOUSEHOLD MANAGEMENT','2020-01-26')
,(6,44,2,'HOUSEHOLD MANAGEMENT','2020-01-26')
,(6,45,4,'HOUSEHOLD MANAGEMENT','2020-01-26')
,(6,46,4,'HOUSEHOLD MANAGEMENT','2020-01-26')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(6,47,4,'HOUSEHOLD MANAGEMENT','2020-01-26')
,(6,48,2,'DISABILITY AND PHYSICAL HEALTH','2020-01-26')
,(6,49,2,'DISABILITY AND PHYSICAL HEALTH','2020-01-26')
,(6,51,2,'DISABILITY AND PHYSICAL HEALTH','2020-01-26')
,(6,52,16,'DISABILITY AND PHYSICAL HEALTH','2020-01-26')
,(7,1,4,'HOUSING','2020-04-26')
,(7,2,4,'HOUSING','2020-04-26')
,(7,3,4,'HOUSING','2020-04-26')
,(7,4,4,'HOUSING','2020-04-26')
,(7,5,1,'HOUSING','2020-04-26')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(7,6,1,'HOUSING','2020-04-26')
,(7,7,1,'HOUSING','2020-04-26')
,(7,8,1,'HOUSING','2020-04-26')
,(7,9,4,'MONEY MANAGEMENT','2020-04-26')
,(7,10,4,'MONEY MANAGEMENT','2020-04-26')
,(7,11,4,'MONEY MANAGEMENT','2020-04-26')
,(7,12,4,'MONEY MANAGEMENT','2020-04-26')
,(7,13,4,'MONEY MANAGEMENT','2020-04-26')
,(7,14,4,'MONEY MANAGEMENT','2020-04-26')
,(7,15,4,'MONEY MANAGEMENT','2020-04-26')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(7,16,4,'MONEY MANAGEMENT','2020-04-26')
,(7,17,4,'MONEY MANAGEMENT','2020-04-26')
,(7,18,6,'MONEY MANAGEMENT','2020-04-26')
,(7,19,10,'EMPLOYMENT','2020-04-26')
,(7,20,4,'EMPLOYMENT','2020-04-26')
,(7,21,4,'EMPLOYMENT','2020-04-26')
,(7,22,1,'EMPLOYMENT','2020-04-26')
,(7,23,1,'EMPLOYMENT','2020-04-26')
,(7,24,1,'EMPLOYMENT','2020-04-26')
,(7,25,1,'EMPLOYMENT','2020-04-26')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(7,27,4,'EDUCATION','2020-04-26')
,(7,28,4,'EDUCATION','2020-04-26')
,(7,29,2,'EDUCATION','2020-04-26')
,(7,30,2,'EDUCATION','2020-04-26')
,(7,31,2,'EDUCATION','2020-04-26')
,(7,33,2,'NETWORK SUPPORT','2020-04-26')
,(7,37,2,'NETWORK SUPPORT','2020-04-26')
,(7,38,2,'NETWORK SUPPORT','2020-04-26')
,(7,39,1,'NETWORK SUPPORT','2020-04-26')
,(7,40,2,'HOUSEHOLD MANAGEMENT','2020-04-26')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(7,41,2,'HOUSEHOLD MANAGEMENT','2020-04-26')
,(7,42,1,'HOUSEHOLD MANAGEMENT','2020-04-26')
,(7,43,2,'HOUSEHOLD MANAGEMENT','2020-04-26')
,(7,48,2,'DISABILITY AND PHYSICAL HEALTH','2020-04-26')
,(7,49,2,'DISABILITY AND PHYSICAL HEALTH','2020-04-26')
,(7,50,1,'DISABILITY AND PHYSICAL HEALTH','2020-04-26')
,(7,51,1,'DISABILITY AND PHYSICAL HEALTH','2020-04-26')
,(7,52,15,'DISABILITY AND PHYSICAL HEALTH','2020-04-26')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(7,5,2,'HOUSING','2020-09-04')
,(7,6,2,'HOUSING','2020-09-04')
,(7,7,2,'HOUSING','2020-09-04')
,(7,8,2,'HOUSING','2020-09-04')
,(7,19,9,'EMPLOYMENT','2020-09-04')
,(7,20,1,'EMPLOYMENT','2020-09-04')
,(7,21,1,'EMPLOYMENT','2020-09-04')
,(7,22,1,'EMPLOYMENT','2020-09-04')
,(7,1,1,'HOUSING','2020-09-04')
,(7,2,2,'HOUSING','2020-09-04')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(7,3,2,'HOUSING','2020-09-04')
,(7,4,1,'HOUSING','2020-09-04')
,(7,9,1,'MONEY MANAGEMENT','2020-09-04')
,(7,10,1,'MONEY MANAGEMENT','2020-09-04')
,(7,11,1,'MONEY MANAGEMENT','2020-09-04')
,(7,12,1,'MONEY MANAGEMENT','2020-09-04')
,(7,13,1,'MONEY MANAGEMENT','2020-09-04')
,(7,14,1,'MONEY MANAGEMENT','2020-09-04')
,(7,15,2,'MONEY MANAGEMENT','2020-09-04')
,(7,16,2,'MONEY MANAGEMENT','2020-09-04')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(7,17,1,'MONEY MANAGEMENT','2020-09-04')
,(7,18,2,'MONEY MANAGEMENT','2020-09-04')
,(7,23,1,'EMPLOYMENT','2020-09-04')
,(7,24,2,'EMPLOYMENT','2020-09-04')
,(7,25,1,'EMPLOYMENT','2020-09-04')
,(7,26,1,'EDUCATION','2020-09-04')
,(7,27,1,'EDUCATION','2020-09-04')
,(7,28,2,'EDUCATION','2020-09-04')
,(7,29,1,'EDUCATION','2020-09-04')
,(7,30,2,'EDUCATION','2020-09-04')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(7,31,2,'EDUCATION','2020-09-04')
,(7,32,2,'NETWORK SUPPORT','2020-09-04')
,(7,33,1,'NETWORK SUPPORT','2020-09-04')
,(7,34,1,'NETWORK SUPPORT','2020-09-04')
,(7,35,1,'NETWORK SUPPORT','2020-09-04')
,(7,36,1,'NETWORK SUPPORT','2020-09-04')
,(7,37,1,'NETWORK SUPPORT','2020-09-04')
,(7,38,1,'NETWORK SUPPORT','2020-09-04')
,(7,39,1,'NETWORK SUPPORT','2020-09-04')
,(7,40,2,'HOUSEHOLD MANAGEMENT','2020-09-04')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(7,41,1,'HOUSEHOLD MANAGEMENT','2020-09-04')
,(7,42,1,'HOUSEHOLD MANAGEMENT','2020-09-04')
,(7,43,1,'HOUSEHOLD MANAGEMENT','2020-09-04')
,(7,44,1,'HOUSEHOLD MANAGEMENT','2020-09-04')
,(7,45,1,'HOUSEHOLD MANAGEMENT','2020-09-04')
,(7,46,1,'HOUSEHOLD MANAGEMENT','2020-09-04')
,(7,47,2,'HOUSEHOLD MANAGEMENT','2020-09-04')
,(7,48,2,'DISABILITY AND PHYSICAL HEALTH','2020-09-04')
,(7,49,2,'DISABILITY AND PHYSICAL HEALTH','2020-09-04')
,(7,50,2,'DISABILITY AND PHYSICAL HEALTH','2020-09-04')
;
INSERT INTO resident_assessment_questionnaire (resident_id,question_id,choice_id,life_domain,on_this_date) VALUES 
(7,51,2,'DISABILITY AND PHYSICAL HEALTH','2020-09-04')
,(7,52,13,'DISABILITY AND PHYSICAL HEALTH','2020-09-04')
;

INSERT INTO resident_score_goal (resident_id,life_domain,score,goal,on_this_date) VALUES 
(1,'HOUSING',3,4,'2019-04-26')
,(1,'MONEY MANAGEMENT',2,3,'2019-04-26')
,(1,'EMPLOYMENT',1,2,'2019-04-26')
,(1,'EDUCATION',2,3,'2019-04-26')
,(1,'NETWORK SUPPORT',1,2,'2019-04-26')
,(1,'HOUSEHOLD MANAGEMENT',2,3,'2019-04-26')
,(2,'HOUSING',5,5,'2020-08-25')
,(2,'MONEY MANAGEMENT',2,3,'2020-08-25')
,(2,'EMPLOYMENT',2,3,'2020-08-25')
,(2,'EDUCATION',3,4,'2020-08-25')
;
INSERT INTO resident_score_goal (resident_id,life_domain,score,goal,on_this_date) VALUES 
(2,'NETWORK SUPPORT',1,2,'2020-08-25')
,(2,'HOUSEHOLD MANAGEMENT',2,3,'2020-08-25')
,(3,'HOUSING',5,5,'2020-08-26')
,(3,'MONEY MANAGEMENT',2,3,'2020-08-26')
,(3,'EMPLOYMENT',2,3,'2020-08-26')
,(3,'EDUCATION',3,4,'2020-08-26')
,(3,'NETWORK SUPPORT',1,2,'2020-08-26')
,(3,'HOUSEHOLD MANAGEMENT',2,3,'2020-08-26')
,(1,'DISABILITY AND PHYSICAL HEALTH',1,2,'2019-04-26')
,(2,'DISABILITY AND PHYSICAL HEALTH',4,5,'2020-09-03')
;
INSERT INTO resident_score_goal (resident_id,life_domain,score,goal,on_this_date) VALUES 
(6,'HOUSING',1,2,'2020-01-26')
,(6,'MONEY MANAGEMENT',1,2,'2020-01-26')
,(6,'EMPLOYMENT',3,4,'2020-01-26')
,(6,'EDUCATION',2,3,'2020-01-26')
,(6,'NETWORK SUPPORT',2,3,'2020-01-26')
,(6,'HOUSEHOLD MANAGEMENT',2,3,'2020-01-26')
,(6,'DISABILITY AND PHYSICAL HEALTH',5,5,'2020-01-26')
;
INSERT INTO resident_score_goal (resident_id,life_domain,score,goal,on_this_date) VALUES 
(7,'HOUSING',2,3,'2020-04-26')
,(7,'MONEY MANAGEMENT',0,0,'2020-04-26')
,(7,'EMPLOYMENT',0,0,'2020-04-26')
,(7,'EDUCATION',2,3,'2020-04-26')
,(7,'NETWORK SUPPORT',1,2,'2020-04-26')
,(7,'HOUSEHOLD MANAGEMENT',2,3,'2020-04-26')
,(7,'DISABILITY AND PHYSICAL HEALTH',5,5,'2020-04-26')
,(7,'HOUSING',3,4,'2020-09-04')
,(7,'MONEY MANAGEMENT',3,4,'2020-09-04')
,(7,'EMPLOYMENT',4,5,'2020-09-04')
;
INSERT INTO resident_score_goal (resident_id,life_domain,score,goal,on_this_date) VALUES 
(7,'EDUCATION',3,4,'2020-09-04')
,(7,'NETWORK SUPPORT',2,3,'2020-09-04')
,(7,'HOUSEHOLD MANAGEMENT',4,5,'2020-09-04')
,(7,'DISABILITY AND PHYSICAL HEALTH',2,3,'2020-09-04')
;


INSERT INTO referral_form (resident_id,interpretation,referred_by,date_added,date_modified,referral_reason,"comments",previous_attempts,rf_followup_notes,res_app_scheduled,service_coord) VALUES 
(2,false,NULL,'2020-08-25','2020-08-25','{"Non/late payment of rent":"false","Utility Shut-off, scheduled for (Date):":"","Housekeeping/home management":"false","Lease violation for:":"","Employment/job readiness":"false","Education/job training":"false","Noticeable change in:":"","Resident-to-resident conflict issues":"false","Suspected abuse/domestic violence/exploitation":"false","Childcare/afterschool care":"false","Transportation":"true","Safety":"false","Healthcare/medical issues":"false","Other:":""}','Problem with Transportation','NA','will check back in december','{"Resident Appointment Scheduled?":"12/01/2020"}','dbadmin1')
,(30,false,NULL,'2020-04-26','2020-04-26','{"Non/late payment of rent":"false","Utility Shut-off, scheduled for (Date):":"","Housekeeping/home management":"true","Lease violation for:":"","Employment/job readiness":"true","Education/job training":"false","Noticeable change in:":"","Resident-to-resident conflict issues":"false","Suspected abuse/domestic violence/exploitation":"false","Childcare/afterschool care":"false","Transportation":"false","Safety":"false","Healthcare/medical issues":"false","Other:":""}','Shazam Reason','NA','Less Shazam activity next time','{"Resident Appointment Scheduled?":"12/01/2020"}','dbadmin1')
,(29,false,NULL,'2020-01-26','2020-01-26','{"Non/late payment of rent":"false","Utility Shut-off, scheduled for (Date):":"","Housekeeping/home management":"false","Lease violation for:":"","Employment/job readiness":"false","Education/job training":"true","Noticeable change in:":"","Resident-to-resident conflict issues":"false","Suspected abuse/domestic violence/exploitation":"false","Childcare/afterschool care":"false","Transportation":"false","Safety":"false","Healthcare/medical issues":"false","Other:":""}','Needs Education','NA','Ask him to read stories','{"Resident Appointment Scheduled?":"12/01/2020"}','dbadmin1')
,(1,false,NULL,'2019-04-26','2019-04-26','{"Non/late payment of rent":"true","Utility Shut-off, scheduled for (Date):":"08/01/2020","Housekeeping/home management":"false","Lease violation for:":"","Employment/job readiness":"false","Education/job training":"false","Noticeable change in:":"","Resident-to-resident conflict issues":"false","Suspected abuse/domestic violence/exploitation":"false","Childcare/afterschool care":"false","Transportation":"false","Safety":"false","Healthcare/medical issues":"false","Other:":""}','how not to miss rent','nil','re-meet in October','{"Resident Appointment Scheduled?":"10/01/2020"}','dbadmin1')
,(28,false,NULL,'2019-12-26','2019-12-26','{"Non/late payment of rent":"false","Utility Shut-off, scheduled for (Date):":"","Housekeeping/home management":"false","Lease violation for:":"","Employment/job readiness":"false","Education/job training":"false","Noticeable change in:":"","Resident-to-resident conflict issues":"false","Suspected abuse/domestic violence/exploitation":"true","Childcare/afterschool care":"false","Transportation":"false","Safety":"false","Healthcare/medical issues":"false","Other:":""}','Domestic interfere, Groot should in park instead of spreading branches in other homes','NA','Meet soon','{"Resident Appointment Scheduled?":"10/01/2020"}','dbadmin1')
,(25,false,NULL,'2019-08-26','2019-08-26','{"Non/late payment of rent":"false","Utility Shut-off, scheduled for (Date):":"","Housekeeping/home management":"false","Lease violation for:":"","Employment/job readiness":"false","Education/job training":"false","Noticeable change in:":"","Resident-to-resident conflict issues":"false","Suspected abuse/domestic violence/exploitation":"false","Childcare/afterschool care":"true","Transportation":"false","Safety":"false","Healthcare/medical issues":"false","Other:":""}','Professor X class too long to take care of child','NA','Test Again','{"Resident Appointment Scheduled?":"10/01/2020"}','dbadmin1')
,(31,false,NULL,'2020-09-01','2020-09-01','{"Non/late payment of rent":"false","Utility Shut-off, scheduled for (Date):":"","Housekeeping/home management":"false","Lease violation for:":"","Employment/job readiness":"false","Education/job training":"false","Noticeable change in:":"Health","Resident-to-resident conflict issues":"false","Suspected abuse/domestic violence/exploitation":"false","Childcare/afterschool care":"false","Transportation":"false","Safety":"true","Healthcare/medical issues":"false","Other:":""}','better performance Healthwise','Referred her to Free clinic at Gahana','Followup notes here','{"Resident Appointment Scheduled?":"12/01/2020"}','dbadmin1')
;

INSERT INTO case_notes (description,assessment,plan,no_show_date,resident_id,service_coord,date_added,date_modified) VALUES 
('Wear red and blue, looks like spider man, met him hanging on wall','he is struggling in paying rent on time but service cordinator is following','Action plan is in place and continuous followup will be there.','08/31/2020', 1,'dbadmin1','2020-08-26','2020-08-26')
,('New Description','New Assessment','New Plan','09/02/2020',1,'dbadmin1','2020-09-02','2020-09-02')
,('Booked appointment but no show - Elastic Girl','','','09/02/2020',31,'dbadmin1','2020-09-02','2020-09-02')
,('Green Becomes Yellow and didn''t show up','','','05/01/2020',30,'dbadmin1','2020-09-02','2020-09-02')
,('Super girl busy fighting and didn;t show up','','','01/15/2020',29,'dbadmin1','2020-09-02','2020-09-02')
,('Black Cannary is lost and din;t show up','','','12/27/2019',28,'dbadmin1','2020-09-02','2020-09-02')
,('Groot couldn;t Groot and didn''t show up','','','08/26/2019',27,'dbadmin1','2020-09-02','2020-09-02')
,('Logan got other appointment and didn''t show up','','','04/30/2019',13,'dbadmin1','2020-09-02','2020-09-02')
,('Dare Devil couldn;t sense way to Service Coordinator and didn''t show up','','','02/01/2020',6,'dbadmin1','2020-09-02','2020-09-02')
;

INSERT INTO action_plan (resident_id,active,plan_of_action,plan_details,referral_partner,anticipated_outcomes,anticipated_date,outcome_achieved,completion_date,achieved_ssm,followup_notes,date_added,date_modified,service_coord) VALUES 
(1,true,'{"HOUSING":"Advocacy","MONEY MANAGEMENT":"Finanicial management/literacy","EMPLOYMENT":"Crisis intervention","EDUCATION":"Education program (GED, etc.)","NETWORK SUPPORT":"Crisis intervention","HOUSEHOLD MANAGEMENT":"Family support","DISABILITY AND PHYSICAL HEALTH":"Healthcare"}','{"HOUSING":"Plan Details 1","MONEY MANAGEMENT":"Plan Details 2","EMPLOYMENT":"Plan Details 3","EDUCATION":"Plan Details 4","NETWORK SUPPORT":"Plan Details 5","HOUSEHOLD MANAGEMENT":"Plan Details 6","DISABILITY AND PHYSICAL HEALTH":"Plan Details 7"}','{"HOUSING":"ABC Company","MONEY MANAGEMENT":"ABC Company","EMPLOYMENT":"ABC Company","EDUCATION":"ABC Company","NETWORK SUPPORT":"ABC Company","HOUSEHOLD MANAGEMENT":"ABC Company","DISABILITY AND PHYSICAL HEALTH":"ABC Company"}','{"HOUSING":"Rectify lease violation","MONEY MANAGEMENT":"Increase gross income","EMPLOYMENT":"Secured employment","EDUCATION":"Enroll child(ren) in school, afterschool, or other early education program","NETWORK SUPPORT":"Feel safe insurrounding neighborhood","HOUSEHOLD MANAGEMENT":"Improve housekeeping skills or conditions","DISABILITY AND PHYSICAL HEALTH":"Reduce use of hospital ER"}','{"HOUSING":"12/01/2020","MONEY MANAGEMENT":"12/01/2020","EMPLOYMENT":"12/01/2020","EDUCATION":"12/01/2020","NETWORK SUPPORT":"12/01/2020","HOUSEHOLD MANAGEMENT":"12/01/2020","DISABILITY AND PHYSICAL HEALTH":"12/01/2020"}','{"HOUSING":"Rectify lease violation","MONEY MANAGEMENT":"Increase gross income","EMPLOYMENT":"Increase employment income","EDUCATION":"Enroll child(ren) in school, afterschool, or other early education program","NETWORK SUPPORT":"Feel safe insurrounding neighborhood","HOUSEHOLD MANAGEMENT":"Improve housekeeping skills or conditions","DISABILITY AND PHYSICAL HEALTH":"Reduce use of hospital ER"}','{"HOUSING":"08/30/2020","MONEY MANAGEMENT":"08/30/2020","EMPLOYMENT":"08/30/2020","EDUCATION":"08/30/2020","NETWORK SUPPORT":"08/30/2020","HOUSEHOLD MANAGEMENT":"08/30/2020","DISABILITY AND PHYSICAL HEALTH":"08/30/2020"}','{"HOUSING":"Yes","MONEY MANAGEMENT":"Yes","EMPLOYMENT":"Yes","EDUCATION":"Yes","NETWORK SUPPORT":"Yes","HOUSEHOLD MANAGEMENT":"Yes","DISABILITY AND PHYSICAL HEALTH":"Yes"}','Resident need help','2020-08-26','2020-08-30','dbadmin1')
,(25,true,'{"HOUSING":"Assessments","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"Plan Details 1","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"Ohio Housing Board","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"Purchase a home","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"12/01/2020","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','Housing Score check','2020-09-03','2020-09-03','dbadmin1')
,(27,true,'{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"Crisis intervention","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"Details 3","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"Employment Division","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"Remain employed for 90 days","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"12/01/2020","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','Emp Score cehck','2020-09-03','2020-09-03','dbadmin1')
,(28,true,'{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"Parenting","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"Meal 1","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"Food Company","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"Improve socialization or network of support","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"12/01/2020","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','Network Support Score Check','2020-09-03','2020-09-03','dbadmin1')
,(2,true,'{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":"Benefits/Insurance"}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":"Health ins"}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":"ABC Company"}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":"Enroll in or change health insurance"}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":"12/01/2020"}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','HOH Score Check','2020-09-03','2020-09-03','dbadmin1')
,(26,true,'{"HOUSING":"","MONEY MANAGEMENT":"Financial aid","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"Details 1","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"Erie Money Management","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"Establish a bank account","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"12/01/2020","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','Money Management Score Check','2019-12-26','2019-12-26','dbadmin1')
,(29,true,'{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"Parenting","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"TEst Me","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"ABC Company","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"Improve housekeeping skills or conditions","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"12/01/2020","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','HOH Score Check','2020-01-26','2020-01-26','dbadmin1')
,(30,true,'{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":"Substance abuse"}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":"test Details"}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":"XYZ Education Department"}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":"Reduce use of hospital ER"}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":"12/01/2020"}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','{"HOUSING":"","MONEY MANAGEMENT":"","EMPLOYMENT":"","EDUCATION":"","NETWORK SUPPORT":"","HOUSEHOLD MANAGEMENT":"","DISABILITY AND PHYSICAL HEALTH":""}','Health sCore Check','2020-04-26','2020-04-26','dbadmin1')
;
--------------------------------------
 
insert into SERVICE_COORDINATOR ( USER_NAME, ENCRYPTED_PASSWORD, ACTIVE, EMAIL)
values ( 'dbadmin1', '$2a$10$PrI5Gk9L.tSZiW9FXhTS8O8Mz9E97k2FZbFvGFFaSsiTUIl.TCrFu',TRUE,'dbadmin1@email.com');

insert into SERVICE_COORDINATOR ( USER_NAME, ENCRYPTED_PASSWORD, ACTIVE, EMAIL,  ASSIGNED_PROPERTY)
values ( 'dbuser1', '$2a$10$PrI5Gk9L.tSZiW9FXhTS8O8Mz9E97k2FZbFvGFFaSsiTUIl.TCrFu',TRUE, 'dbuser1@email.com', to_json('[1,2,3]'::json));

insert into SERVICE_COORDINATOR (USER_NAME, ENCRYPTED_PASSWORD, ACTIVE, EMAIL, ASSIGNED_PROPERTY)
values ( 'dbuser2', '$2a$10$PrI5Gk9L.tSZiW9FXhTS8O8Mz9E97k2FZbFvGFFaSsiTUIl.TCrFu',FALSE,'dbuser2@email.com', to_json('[4,5,6]'::json));

insert into SERVICE_COORDINATOR (USER_NAME, ENCRYPTED_PASSWORD, ACTIVE, EMAIL,  ASSIGNED_PROPERTY)
values ( 'dbuser3', '$2a$10$PrI5Gk9L.tSZiW9FXhTS8O8Mz9E97k2FZbFvGFFaSsiTUIl.TCrFu',TRUE,'dbuser3@email.com', to_json('[45,46,47]'::json));

insert into SERVICE_COORDINATOR (USER_NAME, ENCRYPTED_PASSWORD, ACTIVE, EMAIL)
values ( 'dbadmin2', '$2a$10$PrI5Gk9L.tSZiW9FXhTS8O8Mz9E97k2FZbFvGFFaSsiTUIl.TCrFu',FALSE,'dbadmin2@email.com');

-------------------------------------------
 
insert into app_role (ROLE_ID, ROLE_NAME)
values (1, 'ROLE_ADMIN');
 
insert into app_role (ROLE_ID, ROLE_NAME)
values (2, 'ROLE_USER');
 
--- 

insert into user_role (USER_ID, ROLE_ID)
values ( 1, 1);
 
insert into user_role (USER_ID, ROLE_ID)
values ( 1, 2);
 
insert into user_role (USER_ID, ROLE_ID)
values ( 2, 2);

insert into user_role (USER_ID, ROLE_ID)
values ( 3, 2);

insert into user_role (USER_ID, ROLE_ID)
values ( 4, 2);

insert into user_role (USER_ID, ROLE_ID)
values ( 5, 1);

insert into user_role (USER_ID, ROLE_ID)
values ( 5, 2);

---
--
CREATE OR REPLACE VIEW SERVICE_CATEGORY_VIEW
AS 
SELECT P."SRVC_CAT" AS "SRVC_CAT", P."QUARTER" AS "QUARTER", P."YEAR" AS "YEAR", P."RES_ID" as "RES_ID" from (
SELECT
    plan_of_action->>'HOUSING' AS "SRVC_CAT",
    extract(quarter from date_Added) as "QUARTER",
 extract (year from date_added) as "YEAR",
 'HOUSING' AS "LIFE_DOMAIN",
 resident_id AS "RES_ID"
FROM
    ACTION_PLAN where  plan_of_action->>'HOUSING' not in ('')
UNION 
SELECT
    plan_of_action->>'MONEY MANAGEMENT' AS "SRVC_CAT",
    extract(quarter from date_Added) as "QUARTER",
 extract (year from date_added) as "YEAR",
 'MONEY MANAGEMENT' AS "LIFE_DOMAIN",
 resident_id AS "RES_ID"
FROM
    ACTION_PLAN where  plan_of_action->>'MONEY MANAGEMENT' not in ('')
UNION 
SELECT
    plan_of_action->>'EDUCATION' AS "SRVC_CAT",
    extract(quarter from date_Added) as "QUARTER",
 extract (year from date_added) as "YEAR",
 'EDUCATION' AS "LIFE_DOMAIN",
 resident_id AS "RES_ID"
FROM
    ACTION_PLAN where  plan_of_action->>'EDUCATION' not in ('')
UNION 
SELECT
    plan_of_action->>'EMPLOYMENT' AS "SRVC_CAT",
    extract(quarter from date_Added) as "QUARTER",
 extract (year from date_added) as "YEAR",
 'EMPLOYMENT' AS "LIFE_DOMAIN",
 resident_id AS "RES_ID"
FROM
    ACTION_PLAN where  plan_of_action->>'EMPLOYMENT' not in ('')
UNION
SELECT
    plan_of_action->>'NETWORK SUPPORT' AS "SRVC_CAT", 
    extract(quarter from date_Added) as "QUARTER",
 extract (year from date_added) as "YEAR",
 'NETWORK SUPPORT' AS "LIFE_DOMAIN",
 resident_id AS "RES_ID"
FROM
    ACTION_PLAN where  plan_of_action->>'NETWORK SUPPORT' not in ('')
UNION
SELECT
    plan_of_action->>'HOUSEHOLD MANAGEMENT' AS "SRVC_CAT",
    extract(quarter from date_Added) as "QUARTER",
 extract (year from date_added) as "YEAR",
 'HOUSEHOLD MANAGEMENT' AS "LIFE_DOMAIN",
 resident_id AS "RES_ID"
FROM
    ACTION_PLAN where  plan_of_action->>'HOUSEHOLD MANAGEMENT' not in ('')
UNION
SELECT
    plan_of_action->>'DISABILITY AND PHYSICAL HEALTH' AS "SRVC_CAT",
    extract(quarter from date_Added) as "QUARTER",
 extract (year from date_added) as "YEAR",
 'DISABILITY AND PHYSICAL HEALTH' AS "LIFE_DOMAIN",
 resident_id AS "RES_ID"
FROM
    ACTION_PLAN where  plan_of_action->>'DISABILITY AND PHYSICAL HEALTH' not in ('')
) P
;


--new = totla of current quarter for current year 
CREATE VIEW NEW_RESIDENT_VIEW
AS 
select z."ID" as "RES_ID" from (
select distinct P."ID", P."ACK", extract( quarter from P."RES_DATE") as "RESQ" , extract( year from P."RES_DATE") as "RESY" , extract( quarter from P."SSM_DATE") as "SSMQ", extract( year from P."SSM_DATE") as "SSMY", extract ( quarter from P."CN_DATE" ) as "CNQ", extract ( year from P."CN_DATE" ) as "CNY", extract ( quarter from P."AP_DATE") as "APQ" , extract ( year from P."AP_DATE") as "APY" 
from (
select r.resident_id as "ID", r.ack_pr as "ACK", r.date_modified as "RES_DATE", rsg.on_this_date as "SSM_DATE", cn.DATE_MODIFIED as "CN_DATE", ap.DATE_MODIFIED as "AP_DATE" from resident r 
left join resident_score_goal rsg on rsg.resident_id = r.resident_id
left join case_notes cn on cn.resident_id = r.resident_id 
left join action_Plan ap on ap.resident_id = r.resident_id ) P 
where ( p."ACK" = true or P."SSM_DATE" is not null or P."CN_DATE" is not null or P."AP_DATE" is not null)
) z 
where ( --Resident / SelfSufficiency / CaseNotes / ActionPlan filled this Quarter
	(	z."RESQ" = extract (quarter from now()) and z."RESY" = extract (year from now())) 
	OR (z."SSMQ" = extract (quarter from now()) AND z."SSMY" = extract (year from now())) 
	OR (z."CNQ"	 = extract (quarter from now()) AND z."CNY" = extract (year from now())) 
	OR (z."APQ"	 = extract (quarter from now()) AND z."APY"  = extract (year from now())))
group by z."ID"
;

--Ongoing = total of all previous quarters for current year
CREATE VIEW ONGOING_RESIDENT_VIEW
AS 
select z."ID" as "RES_ID" from (
select distinct P."ID", P."ACK", extract( quarter from P."RES_DATE") as "RESQ" , extract( year from P."RES_DATE") as "RESY" , extract( quarter from P."SSM_DATE") as "SSMQ", extract( year from P."SSM_DATE") as "SSMY", extract ( quarter from P."CN_DATE" ) as "CNQ", extract ( year from P."CN_DATE" ) as "CNY", extract ( quarter from P."AP_DATE") as "APQ" , extract ( year from P."AP_DATE") as "APY" 
from (
select r.resident_id as "ID", r.ack_pr as "ACK", r.date_modified as "RES_DATE", rsg.on_this_date as "SSM_DATE", cn.DATE_MODIFIED as "CN_DATE", ap.DATE_MODIFIED as "AP_DATE" from resident r 
left join resident_score_goal rsg on rsg.resident_id = r.resident_id
left join case_notes cn on cn.resident_id = r.resident_id 
left join action_Plan ap on ap.resident_id = r.resident_id ) P 
where ( p."ACK" = true or P."SSM_DATE" is not null or P."CN_DATE" is not null or P."AP_DATE" is not null)
) z 
where (
	(	z."RESQ" < extract (quarter from now()) and z."RESY" = extract (year from now())) 
	OR (z."SSMQ" < extract (quarter from now()) AND z."SSMY" = extract (year from now())) 
	OR (z."CNQ"	 < extract (quarter from now()) AND z."CNY" = extract (year from now())) 
	OR (z."APQ"	 < extract (quarter from now()) AND z."APY"  = extract (year from now())))
group by z."ID";


--Number of Resident Served
CREATE VIEW RESIDENT_SERVED_VIEW
AS
select z."ID" as "RES_ID", z."RESQ", z."RESY", z."SSMQ", z."SSMY", z."CNQ", z."CNY", z."APQ", z."APY", z."PROP_ID" from (
select distinct P."ID", P."ACK", extract( quarter from P."RES_DATE") as "RESQ" , extract( year from P."RES_DATE") as "RESY" , extract( quarter from P."SSM_DATE") as "SSMQ", extract( year from P."SSM_DATE") as "SSMY", extract ( quarter from P."CN_DATE" ) as "CNQ", extract ( year from P."CN_DATE" ) as "CNY", extract ( quarter from P."AP_DATE") as "APQ" , extract ( year from P."AP_DATE") as "APY", P."PROP_ID" as "PROP_ID"
from (
select r.resident_id as "ID", r.ack_pr as "ACK", r.date_modified as "RES_DATE", rsg.on_this_date as "SSM_DATE", cn.DATE_MODIFIED as "CN_DATE", ap.DATE_MODIFIED as "AP_DATE", r.PROP_ID as "PROP_ID" from resident r 
left join resident_score_goal rsg on rsg.resident_id = r.resident_id
left join case_notes cn on cn.resident_id = r.resident_id 
left join action_Plan ap on ap.resident_id = r.resident_id ) P 
where ( p."ACK" = true or P."SSM_DATE" is not null or P."CN_DATE" is not null or P."AP_DATE" is not null)
) z 
group by z."ID", z."RESQ", z."RESY", z."SSMQ", z."SSMY", z."CNQ", z."CNY", z."APQ", z."APY", z."PROP_ID"
ORDER BY "RES_ID";

--REsident who completed all the 6 assessment
CREATE VIEW ASSESSMENT_COMPLETED_VIEW
AS
select z."RES_ID", z."QUARTER", z."YEAR", z."PROP_ID" from (
select rsg.resident_id as "RES_ID", extract ( quarter from rsg.on_this_date) as "QUARTER" , extract (year from rsg.on_this_date) as "YEAR", rsg.life_domain, r.prop_id as "PROP_ID" from resident_score_goal rsg
join resident r on r.resident_id = rsg.resident_id 
group by rsg.resident_id, extract (quarter from rsg.on_this_date), extract(year from rsg.on_this_date), rsg.life_domain, r.prop_id ) z
where exists (
select 1 from resident_score_goal where extract (year from on_this_date) = z."YEAR" and extract (quarter from on_this_date) = z."QUARTER" and resident_id = z."RES_ID" and life_domain = 'HOUSING'
)
and exists (
select 1 from resident_score_goal where extract (year from on_this_date) = z."YEAR" and extract (quarter from on_this_date) = z."QUARTER" and resident_id = z."RES_ID" and life_domain = 'NETWORK SUPPORT'
)
and exists (
select 1 from resident_score_goal where extract (year from on_this_date) = z."YEAR" and extract (quarter from on_this_date) = z."QUARTER" and resident_id = z."RES_ID" and life_domain = 'EMPLOYMENT'
)
and exists (
select 1 from resident_score_goal where extract (year from on_this_date) = z."YEAR" and extract (quarter from on_this_date) = z."QUARTER" and resident_id = z."RES_ID" and life_domain = 'EDUCATION'
)
and exists (
select 1 from resident_score_goal where extract (year from on_this_date) = z."YEAR" and extract (quarter from on_this_date) = z."QUARTER" and resident_id = z."RES_ID" and life_domain = 'MONEY MANAGEMENT'
)
and exists (
select 1 from resident_score_goal where extract (year from on_this_date) = z."YEAR" and extract (quarter from on_this_date) = z."QUARTER" and resident_id = z."RES_ID" and life_domain = 'HOUSEHOLD MANAGEMENT'
)
and exists (
select 1 from resident_score_goal where extract (year from on_this_date) = z."YEAR" and extract (quarter from on_this_date) = z."QUARTER" and resident_id = z."RES_ID" and life_domain = 'DISABILITY AND PHYSICAL HEALTH'
)
group by z."RES_ID", z."QUARTER", z."YEAR", z."PROP_ID"
;


--Resident by agency referred
CREATE VIEW AGENCY_RESIDENT_VIEW
AS
SELECT z."AGENCY", z."RES_ID", z."QUARTER", z."YEAR", P.PROP_ID as "PROP_ID", P.PROP_NAME as "PROP_NAME" from (
select referral_partner->>'HOUSING' as "AGENCY", resident_id as "RES_ID", extract (quarter from DATE_MODIFIED) as "QUARTER", extract (year from DATE_MODIFIED) as "YEAR" 
from action_plan ap
where referral_partner->>'HOUSING' not in ('')
union
select referral_partner->>'MONEY MANAGEMENT' as "AGENCY", resident_id as "RES_ID", extract (quarter from DATE_MODIFIED) as "QUARTER", extract (year from DATE_MODIFIED) as "YEAR" 
from action_plan ap
where referral_partner->>'MONEY MANAGEMENT' not in ('')
union
select referral_partner->>'EMPLOYMENT' as "AGENCY", resident_id as "RES_ID", extract (quarter from DATE_MODIFIED) as "QUARTER", extract (year from DATE_MODIFIED) as "YEAR" 
from action_plan ap
where referral_partner->>'EMPLOYMENT' not in ('')
union
select referral_partner->>'EDUCATION' as "AGENCY", resident_id as "RES_ID", extract (quarter from DATE_MODIFIED) as "QUARTER", extract (year from DATE_MODIFIED) as "YEAR" 
from action_plan ap
where referral_partner->>'EDUCATION' not in ('')
union
select referral_partner->>'NETWORK SUPPORT' as "AGENCY", resident_id as "RES_ID", extract (quarter from DATE_MODIFIED) as "QUARTER", extract (year from DATE_MODIFIED) as "YEAR" 
from action_plan ap
where referral_partner->>'NETWORK SUPPORT' not in ('')
union
select referral_partner->>'HOUSEHOLD MANAGEMENT' as "AGENCY", resident_id as "RES_ID", extract (quarter from DATE_MODIFIED) as "QUARTER", extract (year from DATE_MODIFIED) as "YEAR" 
from action_plan ap
where referral_partner->>'HOUSEHOLD MANAGEMENT' not in ('')
union
select referral_partner->>'DISABILITY AND PHYSICAL HEALTH' as "AGENCY", resident_id as "RES_ID", extract (quarter from DATE_MODIFIED) as "QUARTER", extract (year from DATE_MODIFIED) as "YEAR" 
from action_plan ap
where referral_partner->>'DISABILITY AND PHYSICAL HEALTH' not in ('')
 ) Z
JOIN RESIDENT R on R.RESIDENT_ID = Z."RES_ID"
JOIN PROPERTY P on P.PROP_ID = R.PROP_ID
ORDER BY z."AGENCY";


--Resident Who moved atleast one level up
CREATE VIEW MOVING_UP_RESIDENTS_VIEW
AS
select z."RES_ID" as "RES_ID", z."QUARTER" as "QUARTER", z."YEAR" as "YEAR", P.PROP_ID as "PROP_ID", P.PROP_NAME as "PROP_NAME", z."LIFE_DOMAIN" as "LIFE_DOMAIN", z."SCORE" as "SCORE" from (
select rsg.resident_id as "RES_ID", extract (quarter from rsg.on_this_date) as "QUARTER", extract (year from rsg.on_this_date) as "YEAR" , rsg.life_domain as "LIFE_DOMAIN", rsg.score as "SCORE"
from resident_Score_goal rsg
join resident_score_goal rsg1 on rsg1.resident_id = rsg.resident_id and rsg1.life_domain = rsg.life_domain and rsg.score > rsg1.score and rsg.on_this_date > rsg1.on_this_Date
)z
JOIN RESIDENT R on R.RESIDENT_ID = z."RES_ID"
JOIN PROPERTY P on P.PROP_ID = R.PROP_ID
order by z."YEAR", z."QUARTER";

--Resident Who moved one more level down
CREATE VIEW MOVING_DOWN_RESIDENTS_VIEW
AS
select z."RES_ID" as "RES_ID", z."QUARTER" as "QUARTER", z."YEAR" as "YEAR", P.PROP_ID as "PROP_ID", P.PROP_NAME as "PROP_NAME", z."LIFE_DOMAIN" as "LIFE_DOMAIN", z."SCORE" as "SCORE" from (
select rsg.resident_id as "RES_ID", extract (quarter from rsg.on_this_date) as "QUARTER", extract (year from rsg.on_this_date) as "YEAR" , rsg.life_domain as "LIFE_DOMAIN", rsg.score as "SCORE"
from resident_Score_goal rsg
join resident_score_goal rsg1 on rsg1.resident_id = rsg.resident_id and rsg1.life_domain = rsg.life_domain and rsg.score < rsg1.score and rsg.on_this_date > rsg1.on_this_Date
)z
JOIN RESIDENT R on R.RESIDENT_ID = z."RES_ID"
JOIN PROPERTY P on P.PROP_ID = R.PROP_ID
order by z."YEAR", z."QUARTER";


CREATE VIEW OUTCOMES_ACHIEVED_VIEW
AS
SELECT z."RES_ID" as "RES_ID", z."OUTCOMES" as "OUTCOMES", z."QUARTER" as "QUARTER", z."YEAR" as "YEAR", P.PROP_ID as "PROP_ID", P.PROP_NAME as "PROPERTY" from (
select OUTCOME_ACHIEVED ->> 'HOUSING' as "OUTCOMES", extract (quarter from date_modified) as "QUARTER", extract(year from date_modified) as "YEAR", RESIDENT_ID as "RES_ID" from ACTION_PLAN
WHERE  OUTCOME_ACHIEVED ->> 'HOUSING' not in ('')
UNION
select OUTCOME_ACHIEVED ->> 'MONEY MANAGEMENT' as "OUTCOMES", extract (quarter from date_modified) as "QUARTER", extract(year from date_modified) as "YEAR", RESIDENT_ID as "RES_ID" from ACTION_PLAN
WHERE  OUTCOME_ACHIEVED ->> 'MONEY MANAGEMENT' not in ('')
UNION
select OUTCOME_ACHIEVED ->> 'EMPLOYMENT' as "OUTCOMES", extract (quarter from date_modified) as "QUARTER", extract(year from date_modified) as "YEAR", RESIDENT_ID as "RES_ID" from ACTION_PLAN
WHERE  OUTCOME_ACHIEVED ->> 'EMPLOYMENT' not in ('')
UNION
select OUTCOME_ACHIEVED ->> 'EDUCATION' as "OUTCOMES", extract (quarter from date_modified) as "QUARTER", extract(year from date_modified) as "YEAR", RESIDENT_ID as "RES_ID" from ACTION_PLAN
WHERE  OUTCOME_ACHIEVED ->> 'EDUCATION' not in ('')
UNION
select OUTCOME_ACHIEVED ->> 'NETWORK SUPPORT' as "OUTCOMES", extract (quarter from date_modified) as "QUARTER", extract(year from date_modified) as "YEAR", RESIDENT_ID as "RES_ID" from ACTION_PLAN
WHERE  OUTCOME_ACHIEVED ->> 'NETWORK SUPPORT' not in ('')
UNION
select OUTCOME_ACHIEVED ->> 'HOUSEHOLD MANAGEMENT' as "OUTCOMES", extract (quarter from date_modified) as "QUARTER", extract(year from date_modified) as "YEAR", RESIDENT_ID as "RES_ID" from ACTION_PLAN
WHERE  OUTCOME_ACHIEVED ->> 'HOUSEHOLD MANAGEMENT' not in ('')
UNION
select OUTCOME_ACHIEVED ->> 'DISABILITY AND PHYSICAL HEALTH' as "OUTCOMES", extract (quarter from date_modified) as "QUARTER", extract(year from date_modified) as "YEAR", RESIDENT_ID as "RES_ID" from ACTION_PLAN
WHERE  OUTCOME_ACHIEVED ->> 'DISABILITY AND PHYSICAL HEALTH' not in ('')
) z
JOIN RESIDENT R on R.RESIDENT_ID = Z."RES_ID"
JOIN PROPERTY P on P.PROP_ID = R.PROP_ID
ORDER BY z."OUTCOMES";


CREATE VIEW RESIDENT_ACTION_PLAN_VIEW
AS
select z."RES_ID", z."LIFE_DOMAIN", z."PLAN_OF_ACTION", Z."QUARTER", z."YEAR", P.PROP_ID as "PROP_ID", P.PROP_NAME as "PROPERTY" from (
select RESIDENT_ID as "RES_ID", 'HOUSING' as "LIFE_DOMAIN", plan_of_Action ->>'HOUSING' as "PLAN_OF_ACTION", EXTRACT (QUARTER from date_modified) as "QUARTER", extract (year from date_modified) as "YEAR" from action_plan
where plan_of_Action ->>'HOUSING' not in ('')
UNION ALL
select RESIDENT_ID as "RES_ID",'MONEY MANAGEMENT' as "LIFE_DOMAIN", plan_of_Action ->>'MONEY MANAGEMENT' as "PLAN_OF_ACTION",  EXTRACT (QUARTER from date_modified) as "QUARTER", extract (year from date_modified) as "YEAR" from action_plan
where plan_of_Action ->>'MONEY MANAGEMENT' not in ('')
UNION ALL
select RESIDENT_ID as "RES_ID",'EMPLOYMENT' as "LIFE_DOMAIN", plan_of_Action ->>'EMPLOYMENT' as "PLAN_OF_ACTION", EXTRACT (QUARTER from date_modified) as "QUARTER", extract (year from date_modified) as "YEAR" from action_plan
where plan_of_Action ->>'EMPLOYMENT' not in ('')
UNION ALL
select RESIDENT_ID as "RES_ID",'EDUCATION' as "LIFE_DOMAIN", plan_of_Action ->>'EDUCATION' as "PLAN_OF_ACTION", EXTRACT (QUARTER from date_modified) as "QUARTER", extract (year from date_modified) as "YEAR" from action_plan
where plan_of_Action ->>'EDUCATION' not in ('')
UNION ALL
select RESIDENT_ID as "RES_ID",'NETWORK SUPPORT' as "LIFE_DOMAIN", plan_of_Action ->>'NETWORK SUPPORT' as "PLAN_OF_ACTION", EXTRACT (QUARTER from date_modified) as "QUARTER", extract (year from date_modified) as "YEAR" from action_plan
where plan_of_Action ->>'NETWORK SUPPORT' not in ('')
UNION ALL
select RESIDENT_ID as "RES_ID",'HOUSEHOLD MANAGEMENT' as "LIFE_DOMAIN", plan_of_Action ->>'HOUSEHOLD MANAGEMENT' as "PLAN_OF_ACTION", EXTRACT (QUARTER from date_modified) as "QUARTER", extract (year from date_modified) as "YEAR" from action_plan
where plan_of_Action ->>'HOUSEHOLD MANAGEMENT' not in ('')
UNION ALL
select RESIDENT_ID as "RES_ID",'DISABILITY AND PHYSICAL HEALTH' as "LIFE_DOMAIN", plan_of_Action ->>'DISABILITY AND PHYSICAL HEALTH' as "PLAN_OF_ACTION", EXTRACT (QUARTER from date_modified) as "QUARTER", extract (year from date_modified) as "YEAR" from action_plan
where plan_of_Action ->>'DISABILITY AND PHYSICAL HEALTH' not in ('')
) z
JOIN RESIDENT R on R.RESIDENT_ID = Z."RES_ID"
JOIN PROPERTY P on P.PROP_ID = R.PROP_ID;


CREATE VIEW REFERRAL_REASON_VIEW
AS
select z."RES_ID" as "RES_ID", z."REASON" as "REASONS", z."QUARTER" as "QUARTER", z."YEAR" as "YEAR", P.PROP_ID as "PROP_ID", P.PROP_NAME AS "PROPERTY" from (
select 'Childcare/afterschool care' as "REASON", extract (quarter from date_modified) as "QUARTER", extract( year from date_modified) as "YEAR", resident_id as "RES_ID" from referral_form
where referral_reason ->> 'Childcare/afterschool care' not in ('', 'false')
UNION ALL
select 'Education/job training' as "REASON", extract (quarter from date_modified) as "QUARTER", extract( year from date_modified) as "YEAR", resident_id as "RES_ID" from referral_form
where referral_reason ->> 'Education/job training' not in ('', 'false')
UNION ALL
select 'Employment/job readiness' as "REASON", extract (quarter from date_modified) as "QUARTER", extract( year from date_modified) as "YEAR", resident_id as "RES_ID" from referral_form
where referral_reason ->> 'Employment/job readiness' not in ('', 'false')
UNION ALL
select 'Healthcare/medical issues' as "REASON", extract (quarter from date_modified) as "QUARTER", extract( year from date_modified) as "YEAR", resident_id as "RES_ID" from referral_form
where referral_reason ->> 'Healthcare/medical issues' not in ('', 'false')
UNION ALL
select 'Housekeeping/home management' as "REASON", extract (quarter from date_modified) as "QUARTER", extract( year from date_modified) as "YEAR", resident_id as "RES_ID" from referral_form
where referral_reason ->> 'Housekeeping/home management' not in ('', 'false')
UNION ALL
select 'Lease violation for:' as "REASON", extract (quarter from date_modified) as "QUARTER", extract( year from date_modified) as "YEAR", resident_id as "RES_ID" from referral_form
where referral_reason ->> 'Lease violation for:' not in ('', 'false')
UNION ALL
select 'Non/late payment of rent' as "REASON", extract (quarter from date_modified) as "QUARTER", extract( year from date_modified) as "YEAR", resident_id as "RES_ID" from referral_form
where referral_reason ->> 'Non/late payment of rent' not in ('', 'false')
UNION ALL
select 'Noticeable change in:' as "REASON", extract (quarter from date_modified) as "QUARTER", extract( year from date_modified) as "YEAR", resident_id as "RES_ID" from referral_form
where referral_reason ->> 'Noticeable change in:' not in ('', 'false')
UNION ALL
select 'Other:' as "REASON", extract (quarter from date_modified) as "QUARTER", extract( year from date_modified) as "YEAR", resident_id as "RES_ID" from referral_form
where referral_reason ->> 'Other:' not in ('', 'false')
UNION ALL
select 'Resident-to-resident conflict issues' as "REASON", extract (quarter from date_modified) as "QUARTER", extract( year from date_modified) as "YEAR", resident_id as "RES_ID" from referral_form
where referral_reason ->> 'Resident-to-resident conflict issues' not in ('', 'false')
UNION ALL
select 'Safety' as "REASON", extract (quarter from date_modified) as "QUARTER", extract( year from date_modified) as "YEAR", resident_id as "RES_ID" from referral_form
where referral_reason ->> 'Safety' not in ('', 'false')
UNION ALL
select 'Suspected abuse/domestic violence/exploitation' as "REASON", extract (quarter from date_modified) as "QUARTER", extract( year from date_modified) as "YEAR", resident_id as "RES_ID" from referral_form
where referral_reason ->> 'Suspected abuse/domestic violence/exploitation' not in ('', 'false')
UNION ALL
select 'Transportation' as "REASON", extract (quarter from date_modified) as "QUARTER", extract( year from date_modified) as "YEAR", resident_id as "RES_ID" from referral_form
where referral_reason ->> 'Transportation' not in ('', 'false')
UNION ALL
select 'Utility Shut-off, scheduled for (Date):' as "REASON", extract (quarter from date_modified) as "QUARTER", extract( year from date_modified) as "YEAR", resident_id as "RES_ID" from referral_form
where referral_reason ->> 'Utility Shut-off, scheduled for (Date):' not in ('', 'false')) z
JOIN RESIDENT R on R.RESIDENT_ID = Z."RES_ID"
JOIN PROPERTY P on P.PROP_ID = R.PROP_ID;


CREATE VIEW GENDER_BY_PROPERTY_VIEW
as
select z.category as "GENDER", z.total as "TOTAL", z.property_name as "PROPERTY NAME" from (
select 'Male' as category, count(r.prop_id) as total,  prop.prop_name as property_name from resident r join property prop on prop.prop_id = r.prop_id where  r.gender = 'Male' group by prop.prop_id
union
select 'Female' as category, count(r.prop_id) as total,  prop.prop_name as property_name from resident r join property prop on prop.prop_id = r.prop_id where  r.gender = 'Female' group by prop.prop_id)z
order by z."category";

create or replace view CONTACT_NOTE_NO_SHOW_VIEW 
as
select z."ID", z."CNQ", z."CNY" from (
select distinct date_part('quarter'::text , to_date(no_show_date,'MM/DD/YYYY')) as "CNQ", date_part('year'::text, to_date(no_show_date,'MM/DD/YYYY'))  as "CNY", resident_id as "ID" 
from case_notes cn where no_show_date is not NULL) z;


create or replace view CONTACT_NOTE_NO_SHOW_VIEW 
as
select z."ID", z."CNQ", z."CNY" from (
select distinct date_part('quarter'::text , to_date(no_show_date,'MM/DD/YYYY')) as "CNQ", date_part('year'::text, to_date(no_show_date,'MM/DD/YYYY'))  as "CNY", resident_id as "ID" 
from case_notes cn where no_show_date is not NULL) z;

CREATE OR REPLACE VIEW RESIDENT_REF_TYPE_VIEW
AS 
SELECT P."REF_TYPE" AS "REF_TYPE", P."QUARTER" AS "QUARTER", P."YEAR" AS "YEAR", P."RES_ID" as "RES_ID" from (
select rf.ref_value as "REF_TYPE" , extract(quarter from date_added) as "QUARTER",  extract (year from date_added) as "YEAR", r.prop_id  as "PROP_ID", r.resident_id as "RES_ID" from resident r join referral rf on rf.ref_id = r.ref_type 
)P;


--Example for Questionnaire
--select aq.question_number, aq.question, c.choice from question_choice qc
--join assessment_questionnaire aq on aq.question_id = qc.question_id and aq.life_domain = 'HOUSING'
--join choice c on c.choice_id = qc.choice_id;

CREATE OR REPLACE FUNCTION random_between(low INT ,high INT) 
   RETURNS INT AS
$$
BEGIN
   RETURN floor(random()* (high-low + 1) + low);
END;
$$ language 'plpgsql' STRICT;



commit;
